<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shop API | MMC Helper</title>
  <meta name="author" content="MMC">
  
  <meta name="description" content="MicroMultiCopter Aero Technology Co., Ltd">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shop API"/>
  <meta property="og:site_name" content="MMC Helper"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="MMC Helper" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">MMC Helper</a><span class="split"></span><span class="title">Shop API</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2018-04-02</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <h1 id="常用地址访问"><a href="#常用地址访问" class="headerlink" title="常用地址访问"></a>常用地址访问</h1><blockquote>
<p><a href="http://192.168.4.223/mshop/" target="_blank" rel="noopener">本地商城前端访问地址</a><br><a href="http://192.168.4.223/mshop/admin" target="_blank" rel="noopener">本地商城后台访问地址</a></p>
</blockquote>
<blockquote>
<p><a href="http://www.testmmc.top/mshop/" target="_blank" rel="noopener">阿里云商城前台访问地址</a><br><a href="http://www.testmmc.top/mshop/admin/" target="_blank" rel="noopener">阿里云商城后台访问地址</a></p>
</blockquote>
<p>[TOC]</p>
<blockquote>
<p>科比特商城系统API接口</p>
</blockquote>
<h1 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h1><p><em>URL</em>: 192.168.4.232/mmcshop</p>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><blockquote>
<p>控制器：PublicController.class.php</p>
</blockquote>
<h3 id="checkLogin"><a href="#checkLogin" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/checkLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure>
<h3 id="验证登录"><a href="#验证登录" class="headerlink" title="验证登录"></a>验证登录</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/verifyLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure>
<h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/login</p>
</blockquote>
<h2 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h2><blockquote>
<p>HOST:<em>URL</em>/admin/public/logOut</p>
</blockquote>
<h2 id="商品种类列表"><a href="#商品种类列表" class="headerlink" title="商品种类列表"></a>商品种类列表</h2><h3 id="添加商品分类"><a href="#添加商品分类" class="headerlink" title="添加商品分类"></a>添加商品分类</h3><blockquote>
<p>权限：admin_priv(‘cat_manage’);<br>HOST:<em>URL</em>/admin/category/addCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：自增ID</span><br><span class="line">parent_id ：分类的父ID，取值于该表的cat_id字段</span><br><span class="line">sort_order：该分类在页面显示的顺序，数字越大顺序越靠后；同数字，id在前的先显示</span><br><span class="line">keywords：分类的关键字，是为了搜索</span><br><span class="line">cat_desc：分类描述</span><br><span class="line">measure_unit：该分类的计量单位</span><br><span class="line">cat_name：分类名称</span><br><span class="line">show_in_nav：是否显示在导航栏。0：不显示；1：显示在导航栏</span><br><span class="line">is_show：是否在前台页面显示，1，显示；0，不显示</span><br><span class="line">grade：该分类的最高和最低价之间的价格分级，当大于1 时，会根据最大最小价格区间分成区间，会在页面显示价格范围，如0-300,300-600,600-900这种</span><br><span class="line"></span><br><span class="line">取消字段：</span><br><span class="line">//style：该分类的单独的样式表的包括文件名部分的文件路径 </span><br><span class="line">//filter_attr：如果该字段有值，则该分类将还会按照该值对应在表goods_attr的goods_attr_id所对应的属性筛选，如，封面颜色下有红，黑分类筛选</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="提交更新商品分类信息"><a href="#提交更新商品分类信息" class="headerlink" title="提交更新商品分类信息"></a>提交更新商品分类信息</h3><blockquote>
<p>权限 :admin_priv(‘cat_manage’);<br>Table: catgory,cat_recommend<br>HOST:<em>URL</em>/admin/category/updateCategory</p>
<ul>
<li>请求方式：POST</li>
</ul>
</blockquote>
<ul>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">old_cat_name</span><br><span class="line">parent_id</span><br><span class="line">sort_order</span><br><span class="line">keywords</span><br><span class="line">cat_desc</span><br><span class="line">measure_unit</span><br><span class="line">cat_name</span><br><span class="line">is_show</span><br><span class="line">show_in_nav</span><br><span class="line">grade</span><br><span class="line"></span><br><span class="line">cat_recommend     精品：1  最新：2  热门：3      //Table：cat_recommend</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="删除商品分类信息"><a href="#删除商品分类信息" class="headerlink" title="删除商品分类信息"></a>删除商品分类信息</h3><blockquote>
<p>HOST:<em>URL</em>/admin/category/removeCategory</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 当删除的分类下面有产品时，禁止删除操作</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;不是末级分类或者此分类下还存在有商品,您不能删除!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品分类删除成功&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="上级分类-parent-id"><a href="#上级分类-parent-id" class="headerlink" title="上级分类 parent_id"></a>上级分类 parent_id</h3><blockquote>
<p>HOST:<em>URL</em>/admin/category/catParentIdMenu</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参数</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值<br>默认加上0：顶级分类</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：分类ID&gt;=1</span><br><span class="line">cat_name ：分类名字</span><br></pre></td></tr></table></figure>
<ul>
<li>选择后前端取cat_id值，传输给parent_id</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent_id = cat_id</span><br></pre></td></tr></table></figure>
<h3 id="编辑商品分类"><a href="#编辑商品分类" class="headerlink" title="编辑商品分类"></a>编辑商品分类</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/editCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cat_info&quot;: &#123;</span><br><span class="line">        &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;cat_name&quot;: &quot;图传&quot;,</span><br><span class="line">        &quot;keywords&quot;: &quot;&quot;,</span><br><span class="line">        &quot;cat_desc&quot;: &quot;&quot;,</span><br><span class="line">        &quot;parent_id&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;sort_order&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;template_file&quot;: &quot;&quot;,</span><br><span class="line">        &quot;measure_unit&quot;: &quot;个&quot;,</span><br><span class="line">        &quot;show_in_nav&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;style&quot;: &quot;&quot;,</span><br><span class="line">        &quot;is_show&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;grade&quot;: &quot;5&quot;,</span><br><span class="line">        &quot;filter_attr&quot;: &quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;cat_recommend&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;1&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;2&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取商品分类列表"><a href="#获取商品分类列表" class="headerlink" title="获取商品分类列表"></a>获取商品分类列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/listCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat_id,</span><br><span class="line">cat_name,</span><br><span class="line">measure_unit,</span><br><span class="line">is_show,</span><br><span class="line">show_in_nav,</span><br><span class="line">grade,</span><br><span class="line">sort_order</span><br></pre></td></tr></table></figure>
<p>注：缺少商品数量，此项参数，后续再处理。</p>
<h3 id="获取商品分类菜单"><a href="#获取商品分类菜单" class="headerlink" title="获取商品分类菜单"></a>获取商品分类菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/menuCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat_id,</span><br><span class="line">cat_name,</span><br><span class="line">parent_id</span><br></pre></td></tr></table></figure>
<h3 id="数量单位在线修改"><a href="#数量单位在线修改" class="headerlink" title="数量单位在线修改"></a>数量单位在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/measureUnitChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">measure_unit</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="导航栏在线修改"><a href="#导航栏在线修改" class="headerlink" title="导航栏在线修改"></a>导航栏在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/isShowChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,is_show</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="是否显示在线修改"><a href="#是否显示在线修改" class="headerlink" title="是否显示在线修改"></a>是否显示在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/showInNavChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,show_in_nav</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="价格分级在线修改"><a href="#价格分级在线修改" class="headerlink" title="价格分级在线修改"></a>价格分级在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/gradeChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">grade   取值范围[0,10]</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="排序在线修改"><a href="#排序在线修改" class="headerlink" title="排序在线修改"></a>排序在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/sortOrderChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,sort_order</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<p>[TOC]</p>
<h2 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h2><h3 id="商品基本信息说明"><a href="#商品基本信息说明" class="headerlink" title="商品基本信息说明"></a>商品基本信息说明</h3><p>主要数据表介绍：</p>
<ul>
<li>mmc_goods：商品的基本信息表</li>
<li>mmc_goods_attr：存储商品的属性信息</li>
<li>mmc_goods_type：存储商品扩展分类，选择商品的所属类型，进而完善此商品的属性</li>
<li>mmc_attribute:存储扩展分类，详细属性列表，value在mmc_goods_attr中存储</li>
<li>mmc_brand：商品品牌，目前只是写入了科比特品牌，未来可能有其他品牌列入</li>
</ul>
<h4 id="通用信息"><a href="#通用信息" class="headerlink" title="通用信息"></a>通用信息</h4><ul>
<li>商品名称:goods_name</li>
<li>mmc_goods</li>
<li>商品货号:goods_sn</li>
<li>商品分类:cat_id<br>  mmc_catgory<br>  HOST：<em>URL</em>/admin/category/menuCategory</li>
<li><a href="扩展分类">扩展分类del</a></li>
<li>商品品牌:brand_id<br>  mmc_brand<br>  HOST：<em>URL</em>/admin/brand/menuBrand</li>
<li>本店售价：shop_price</li>
<li>市场售价：market_price</li>
<li>上传商品图片:goods_img</li>
<li>上传商品缩略图：goods_thumb</li>
</ul>
<h4 id="详细描述"><a href="#详细描述" class="headerlink" title="详细描述"></a>详细描述</h4><ul>
<li>详细描述：goods_desc</li>
</ul>
<h4 id="其他信息"><a href="#其他信息" class="headerlink" title="其他信息"></a>其他信息</h4><ul>
<li>商品重量：goods_weight      两位小数</li>
<li>商品库存数量：goods_number</li>
<li><a href="库存警告数量：warn_number">库存警告数量del</a></li>
<li><p>加入推荐：<br>  精品：is_best<br>  新品：is_new<br>  热销：is_hot     </p>
</li>
<li><p><a href="is_alone_sale">能作为普通商品销售del</a></p>
</li>
<li><p><a href="is_shipping">是否为免运费商品del</a></p>
</li>
<li><p>上架:is_on_sale</p>
</li>
<li>商品关键词：keywords</li>
<li>商品简单描述: goods_brief</li>
<li>商家备注：seller_note</li>
</ul>
<h4 id="商品属性"><a href="#商品属性" class="headerlink" title="商品属性"></a>商品属性</h4><blockquote>
<p>列表选择商品的所属类型</p>
<ul>
<li>商品类型：goods_type<br>  mmc_goods_type<br>  HOST：<em>URL</em>/admin/goodstype/menuGoodstype</li>
</ul>
</blockquote>
<h4 id="商品相册"><a href="#商品相册" class="headerlink" title="商品相册"></a>商品相册</h4><blockquote>
<p>mmc_goods_gallery</p>
<ul>
<li>goods_id</li>
<li>img_url</li>
<li>img_desc</li>
<li>thumb_url</li>
<li>img_original</li>
</ul>
</blockquote>
<h4 id="关联商品"><a href="#关联商品" class="headerlink" title="关联商品"></a>关联商品</h4><blockquote>
<p>table：mmc_link_goods</p>
<ul>
<li>goods_id</li>
<li>link_goods_id</li>
<li>is_double</li>
<li>admin_id</li>
</ul>
</blockquote>
<h4 id="配件"><a href="#配件" class="headerlink" title="配件"></a>配件</h4><blockquote>
<p>table: mmc_group_goods</p>
<ul>
<li>parent_id      父类ID：本商品goods_id</li>
<li>goods_id       配件商品ID：mmc_goods</li>
<li>goods_price    配件价格</li>
<li>admin_id</li>
</ul>
</blockquote>
<h4 id="备用"><a href="#备用" class="headerlink" title="备用"></a>备用</h4><p>add_goods_article  goodsId<br>drop_goods_article  goodsId</p>
<h3 id="添加商品按钮"><a href="#添加商品按钮" class="headerlink" title="添加商品按钮"></a>添加商品按钮</h3><p>这部分做初始化操作，目的是删除缓存的关联数据</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsAddInit</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<h3 id="确定添加商品"><a href="#确定添加商品" class="headerlink" title="确定添加商品"></a>确定添加商品</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsAdd</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:文件类型</span><br><span class="line">goods_thumb:文件类型</span><br><span class="line"></span><br><span class="line">is_make_thumb 【新增，是否自动生成缩略图】</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">其他错误信息：</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;文件类型不符合要求!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品提交更新"><a href="#商品提交更新" class="headerlink" title="商品提交更新"></a>商品提交更新</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsUpdate</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id</span><br><span class="line">user_id  【新增】产品负责人          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:保留，暂不提交</span><br><span class="line">goods_thumb:保留，暂不提交</span><br><span class="line"></span><br><span class="line">【新增】is_make_thumb :是否生成缩略图  0：手动提交缩略图  1：自动生成缩略图</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品编辑"><a href="#商品编辑" class="headerlink" title="商品编辑"></a>商品编辑</h3><blockquote>
<p>说明：商品的添加界面<br>HOST：<em>URL</em>/admin/goods/goodsEdit<br>参数来源：</p>
<ul>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id    商品Id</span><br><span class="line">session_id  用户session_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<p>goods_param_list  产品参数列表<br>linked_goods_list 关联商品列表<br>group_goods_list  关联配件列表<br>goods_gallery_list 产品相册列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;goods_param_list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;cat_id&quot;: &quot;3&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000001&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1550&quot; </span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;linked_goods_list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;MC6-1550 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;MC6-1200 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;3&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;T80 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;group_goods_list&quot;: []</span><br><span class="line">    </span><br><span class="line">    &quot;goods_gallery_list&quot;:[img_id,image_url,img_desc,thumb_url]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="移除产品到回收站"><a href="#移除产品到回收站" class="headerlink" title="移除产品到回收站"></a>移除产品到回收站</h3><p>注：此种删除方式只是将产品移动到回收站列表，并不是真正的删除此产品，如果将此产品完全删除需要调用goodsDrop接口。</p>
<blockquote>
<p>HOST:<em>URL</em>/admin/goods/goodsRemove</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">good_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="从回收站彻底删除产品"><a href="#从回收站彻底删除产品" class="headerlink" title="从回收站彻底删除产品"></a>从回收站彻底删除产品</h3><p>注：此种删除方式将此产品彻底删除，不可逆转。</p>
<blockquote>
<p>HOST:<em>URL</em>/admin/goods/goodsDrop</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">good_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="删除商品"><a href="#删除商品" class="headerlink" title="删除商品"></a>删除商品</h3><blockquote>
<p>HOST:<em>URL</em>/admin/goods/dropGallery</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_id  图片ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品列表"><a href="#商品列表" class="headerlink" title="商品列表"></a>商品列表</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/listGoods</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* @param   cat_id     分类ID</span><br><span class="line">* @param   brand_id   品牌</span><br><span class="line">* @param   keywords   关键字</span><br><span class="line">* @param   sort_by    排序方式      不赋值默认g.goods_id  还有：g.cat_id  g.is_on_sale</span><br><span class="line">* @param   sort_order 顺序还是倒序   不赋值默认倒序排列，    sort_order =1 时为顺序</span><br><span class="line">* @param   page_size  分页大小</span><br><span class="line">* @param   page       第几页</span><br><span class="line">* @return  array</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">参数说明：</span><br><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br><span class="line">goods_sn,货号</span><br><span class="line">name_cn,产品负责人【新增】</span><br><span class="line">shop_price,价格</span><br><span class="line">is_on_sale,上架</span><br><span class="line">is_best,精品</span><br><span class="line">is_new,新品</span><br><span class="line">is_hot,热销</span><br><span class="line">sort_order,推荐排序</span><br><span class="line">goods_number库存</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1200&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000002&quot;,</span><br><span class="line">            &quot;name_cn&quot;: &quot;实验室&quot;,</span><br><span class="line">            &quot;shop_price&quot;: &quot;120000.00&quot;,</span><br><span class="line">            &quot;is_on_sale&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_best&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_new&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_hot&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;sort_order&quot;: &quot;102&quot;,</span><br><span class="line">            &quot;goods_number&quot;: &quot;10&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;filter&quot;: &#123;</span><br><span class="line">        &quot;sort_by&quot;: &quot;g.goods_id&quot;,  按照goods_id 排序</span><br><span class="line">        &quot;sort_order&quot;: &quot;DESC&quot;,  倒序/顺序</span><br><span class="line">        &quot;record_count&quot;: &quot;1&quot;,   一共多少条记录</span><br><span class="line">        &quot;page_size&quot;: 10,       分页大小</span><br><span class="line">        &quot;page&quot;: 1,             第几页</span><br><span class="line">        &quot;page_count&quot;: 1,       总页数</span><br><span class="line">        &quot;start&quot;: 0             从第几条记录开始</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;page_count&quot;: 1,        </span><br><span class="line">    &quot;record_count&quot;: &quot;1&quot;     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注：删除虚拟销量virtual_sales标签；</p>
<h3 id="商品名称在线修改"><a href="#商品名称在线修改" class="headerlink" title="商品名称在线修改"></a>商品名称在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsNameChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品货号在线修改"><a href="#商品货号在线修改" class="headerlink" title="商品货号在线修改"></a>商品货号在线修改</h3><p>权限：goods_manage<br>注：商品货号为唯一识别码，修改前先进性查重操作。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsSnChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_sn,货号</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">status = 501;</span><br><span class="line">message= 该条数据存在；</span><br><span class="line"></span><br><span class="line">status = 777；</span><br><span class="line">message= 权限；</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品价格在线修改"><a href="#商品价格在线修改" class="headerlink" title="商品价格在线修改"></a>商品价格在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/shopPriceChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">shop_price,价格</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品预售在线修改"><a href="#商品预售在线修改" class="headerlink" title="商品预售在线修改"></a>商品预售在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isPresaleStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_new,新品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品上架在线修改"><a href="#商品上架在线修改" class="headerlink" title="商品上架在线修改"></a>商品上架在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/onSaleStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_on_sale,上架, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品精品在线修改"><a href="#商品精品在线修改" class="headerlink" title="商品精品在线修改"></a>商品精品在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isBestStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_best,精品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品新品在线修改"><a href="#商品新品在线修改" class="headerlink" title="商品新品在线修改"></a>商品新品在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isNewStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_new,新品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品热销在线修改"><a href="#商品热销在线修改" class="headerlink" title="商品热销在线修改"></a>商品热销在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isHotStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_hot,热销, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品推荐排序在线修改"><a href="#商品推荐排序在线修改" class="headerlink" title="商品推荐排序在线修改"></a>商品推荐排序在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/sortOrderChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">sort_order,推荐排序</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品库存在线修改"><a href="#商品库存在线修改" class="headerlink" title="商品库存在线修改"></a>商品库存在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsNumberChange</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_number，库存</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="单个商品属性值获取"><a href="#单个商品属性值获取" class="headerlink" title="单个商品属性值获取"></a>单个商品属性值获取</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/getGoodsAttr</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">attr_id  属性唯一识别ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">attr_value 属性值</span><br></pre></td></tr></table></figure>
<h3 id="单个商品属性提交更新"><a href="#单个商品属性提交更新" class="headerlink" title="单个商品属性提交更新"></a>单个商品属性提交更新</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsAttrUpdate</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">attr_id</span><br><span class="line">attr_value</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<h3 id="关联商品页面搜索按钮"><a href="#关联商品页面搜索按钮" class="headerlink" title="关联商品页面搜索按钮"></a>关联商品页面搜索按钮</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/searchGoodsList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">过滤条件</span><br><span class="line">* cat_id      int     分类ID</span><br><span class="line">* brand_id    int     品牌ID</span><br><span class="line">* keyword     string  关键字</span><br><span class="line">* exclude     arry    商品ID数组     [goods_id]  目的：除了本商品外的商品</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">返回值列表：</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;MC6-1550&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;1000000.00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;MC6-1200&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;120000.00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;3&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;T80&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;0.00&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="关联商品页添加商品关联"><a href="#关联商品页添加商品关联" class="headerlink" title="关联商品页添加商品关联"></a>关联商品页添加商品关联</h3><p>此接口支持单产品绑定，支持多产品绑定。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/addLinkGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @param   array   add_ids    要关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     is_double  是否双向绑定    0：否；1：是</span><br><span class="line">* @param   string  session_id 用户session ID</span><br><span class="line">* @return  JSON [&#123;value&#125;,&#123;text&#125;,&#123;data&#125;]</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "1",</span><br><span class="line">        "text": "MC6-1550 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="关联商品页删除商品关联"><a href="#关联商品页删除商品关联" class="headerlink" title="关联商品页删除商品关联"></a>关联商品页删除商品关联</h3><p>此接口支持单产品删除，支持多产品删除。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/dropLinkGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多商品一次性删除</span><br><span class="line">* @param   array   drop_ids    要删除关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     is_double  是否双向绑定    0：否；1：是</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<ul>
<li>@return  JSON [{value},{text},{data}]</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "1",</span><br><span class="line">        "text": "MC6-1550 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>###添加配件页面选择产品价格输入框</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/getGoodsPrice</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* @detail 添加配件页面选择产品价格输入框</span><br><span class="line">* @param    int     goods_id   操作的商品ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @return   string  shop_price </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "shop_price": "120000.00"</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="添加配件关联"><a href="#添加配件关联" class="headerlink" title="添加配件关联"></a>添加配件关联</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/addGroupGoods</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多配件一次添加</span><br><span class="line">* @param   array   add_ids    要关联的配件ID       例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     shop_price 商品填写框中的价格</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<ul>
<li>@return  JSON [{value},{text},{data}]</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "3",</span><br><span class="line">        "text": "T80 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="关联配件页删除配件关联"><a href="#关联配件页删除配件关联" class="headerlink" title="关联配件页删除配件关联"></a>关联配件页删除配件关联</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/dropGroupGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多配件一次性删除</span><br><span class="line">* @param   array   drop_ids    要删除关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<ul>
<li>@return  JSON [{value},{text},{data}]</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="批量上传图片"><a href="#批量上传图片" class="headerlink" title="批量上传图片"></a>批量上传图片</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/uploadMassGallery</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* @param   int     goods_id       商品ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<h3 id="商品审批操作日志表及状态显示"><a href="#商品审批操作日志表及状态显示" class="headerlink" title="商品审批操作日志表及状态显示"></a>商品审批操作日志表及状态显示</h3><p>数据表：mmc_approve_action </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">action_id       mediumint 流水号</span><br><span class="line">goods_id        mediumint 被操作的商品ID</span><br><span class="line">action_user     varchar   操作该次的人员</span><br><span class="line">test_status     tinyint   测试状态。0，未确认；1，已确认；</span><br><span class="line">finance_status  tinyint   财务状态。0，未定价；1，已定价；</span><br><span class="line">lab_status      tinyint   实验室审批状态。0，未审批; 1，已审批;</span><br><span class="line">goods_status    tinyint   商品状态。0，未上架；1，已上架；2，预研项目；3，取消（红色）；4，已提交；</span><br><span class="line">action_note     varchar   操作备注</span><br><span class="line">log_time        int       操作时间</span><br></pre></td></tr></table></figure>
<h2 id="商品数据管理"><a href="#商品数据管理" class="headerlink" title="商品数据管理"></a>商品数据管理</h2><p>主要数据表介绍：</p>
<ul>
<li>mmc_data：商品数据的状态表</li>
<li>mmc_data_file: 商品数据表</li>
<li>mmc_data_type: 商品文件名称列表</li>
</ul>
<h3 id="表结构说明"><a href="#表结构说明" class="headerlink" title="表结构说明"></a>表结构说明</h3><ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file_id: 序号ID</span><br><span class="line">goods_id:产品ID  -&gt;  goods_name：产品名字   //从goods表中获取</span><br></pre></td></tr></table></figure>
<h3 id="商品数据列表"><a href="#商品数据列表" class="headerlink" title="商品数据列表"></a>商品数据列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/dataList</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//成功</span><br><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn</span><br><span class="line">is_brief_ch  商品简页</span><br><span class="line">is_brief_en</span><br><span class="line">is_userguide_ch 用户手册</span><br><span class="line">is_userguide_en</span><br><span class="line">is_openvideo  开箱视频</span><br><span class="line">is_installvideo  安装视频</span><br><span class="line">is_debugvideo 测试视频</span><br><span class="line">is_project 立项书</span><br><span class="line"></span><br><span class="line">//错误提示</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据获取失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品数据编辑"><a href="#商品数据编辑" class="headerlink" title="商品数据编辑"></a>商品数据编辑</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/dataList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="商品数据数据类型"><a href="#商品数据数据类型" class="headerlink" title="商品数据数据类型"></a>商品数据数据类型</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/getDataCat</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;dcat_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;dcat_name&quot;: &quot;产品简页(中文)&quot;,</span><br><span class="line">        &quot;enabled&quot;: &quot;1&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="商品数据编辑按钮"><a href="#商品数据编辑按钮" class="headerlink" title="商品数据编辑按钮"></a>商品数据编辑按钮</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/editDataBtn</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* @param   string  goods_id      商品ID</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<ul>
<li>@return  array<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;dcat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;file_version&quot;: &quot;100&quot;,</span><br><span class="line">        &quot;file_name&quot;: &quot;MC6-1550S用户手册V1.0.pdf&quot;,</span><br><span class="line">        &quot;file_ext&quot;: &quot;pdf&quot;,</span><br><span class="line">        &quot;file_url&quot;: &quot;http://192.168.4.222/mmcshop/file/1/document/1_P_2_100_1524493791754.pdf&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="上传商品数据文件"><a href="#上传商品数据文件" class="headerlink" title="上传商品数据文件"></a>上传商品数据文件</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/uploadDataFile</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 上传商品数据文件</span><br><span class="line">* @param   string  goods_id      商品ID</span><br><span class="line">* @param   string  file_type     目标文件类型  可供选择：media 、pdf</span><br><span class="line">* @param   int     dcat_id       数据类型ID</span><br><span class="line">* @param   int     file_version  文件版本号    三位表示法，如100：标识版本1.0 ； 205：标识2.5版本</span><br><span class="line">* @param   _FILES  data_file     文件</span><br><span class="line">* @param   string  file_desc     文件描述，可为空</span><br><span class="line">* @return  array</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//更新失败</span><br><span class="line">status  =1</span><br><span class="line">message = &apos;数据更新失败!&apos;,</span><br><span class="line">//更新成功</span><br><span class="line">status  =0</span><br><span class="line">message = &apos;数据更新成功!&apos;,</span><br><span class="line"></span><br><span class="line">// goods_id为空错误</span><br><span class="line">status  =1</span><br><span class="line">message = 商品id为空，请重新操作！</span><br><span class="line">// dcat_id为空错误</span><br><span class="line">// file_version为空错误</span><br><span class="line">// data_file为空错误</span><br></pre></td></tr></table></figure>
<h3 id="获取商品名字"><a href="#获取商品名字" class="headerlink" title="获取商品名字"></a>获取商品名字</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/getGoodsName</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_name&quot;: &quot;1550&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="商品品牌"><a href="#商品品牌" class="headerlink" title="商品品牌"></a>商品品牌</h2><p>商品品牌：mmc_brand</p>
<h3 id="商品品牌菜单"><a href="#商品品牌菜单" class="headerlink" title="商品品牌菜单"></a>商品品牌菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/brand/menuBrand</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;brand_id&quot;:&quot;1&quot;,</span><br><span class="line">        &quot;brand_name&quot;:&quot;\u79d1\u6bd4\u7279&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="商品类型分类"><a href="#商品类型分类" class="headerlink" title="商品类型分类"></a>商品类型分类</h2><p>商品类型：mmc_goods_type</p>
<h3 id="商品类型菜单"><a href="#商品类型菜单" class="headerlink" title="商品类型菜单"></a>商品类型菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goodstype/menuGoodstype</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">cat_name</span><br></pre></td></tr></table></figure>
<h3 id="商品参数属性菜单"><a href="#商品参数属性菜单" class="headerlink" title="商品参数属性菜单"></a>商品参数属性菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goodstype/menuAttribute</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;attr_id&quot;: &quot;1&quot;,</span><br><span class="line">&quot;attr_name&quot;: &quot;最大起飞重量&quot;</span><br></pre></td></tr></table></figure>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><ul>
<li>权限角色管理在表 mmc_role，主要以部门划分，每个部门划分权限。</li>
<li>mmc_admin_user 管理员用户列表</li>
</ul>
<h3 id="产品负责人列表"><a href="#产品负责人列表" class="headerlink" title="产品负责人列表"></a>产品负责人列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/goodsOwnList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;基础用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;3&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;基础用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;8&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;000&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="管理员用户列表"><a href="#管理员用户列表" class="headerlink" title="管理员用户列表"></a>管理员用户列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/getAdminUserList</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">user_id, </span><br><span class="line">user_name, 登录名</span><br><span class="line">name_cn,用户名</span><br><span class="line">email, </span><br><span class="line">add_time, </span><br><span class="line">last_login</span><br></pre></td></tr></table></figure>
<h3 id="删除管理员"><a href="#删除管理员" class="headerlink" title="删除管理员"></a>删除管理员</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/dropAdminUser</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id : 管理员id</span><br><span class="line">session_id: 当前session_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure>
<h3 id="编辑管理员"><a href="#编辑管理员" class="headerlink" title="编辑管理员"></a>编辑管理员</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/editAdminUser</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id : 管理员id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user_id, </span><br><span class="line">user_name, </span><br><span class="line">name_cn , </span><br><span class="line">email, </span><br><span class="line">role_id</span><br></pre></td></tr></table></figure>
<h3 id="添加管理员用户"><a href="#添加管理员用户" class="headerlink" title="添加管理员用户"></a>添加管理员用户</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/addAdminUser</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @param   string user_name         用户名</span><br><span class="line">* @param   string name_cn           中文名</span><br><span class="line">* @param   string email</span><br><span class="line">* @param   string password          密码</span><br><span class="line">* @param   string pwd_confirm       确认密码</span><br><span class="line">* @param   ing    select_role       选择角色id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure>
<h3 id="编辑更新管理员"><a href="#编辑更新管理员" class="headerlink" title="编辑更新管理员"></a>编辑更新管理员</h3><p>注：新增中文名表单，name_cn。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/user/updateAdminUser</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* @param   int    id                图片ID</span><br><span class="line">* @param   string user_name         用户名</span><br><span class="line">* @param   string name_cn           中文名</span><br><span class="line">* @param   string email</span><br><span class="line">* @param   string old_password      旧密码</span><br><span class="line">* @param   string new_password      新密码</span><br><span class="line">* @param   string pwd_confirm       确认密码</span><br><span class="line">* @param   ing    select_role       选择角色id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure>
<h3 id="管理员角色管理列表"><a href="#管理员角色管理列表" class="headerlink" title="管理员角色管理列表"></a>管理员角色管理列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/user/getRoleList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">role_id, </span><br><span class="line">role_name, </span><br><span class="line">action_list, </span><br><span class="line">role_describe</span><br></pre></td></tr></table></figure>
<h3 id="获取管理员角色名称列表菜单"><a href="#获取管理员角色名称列表菜单" class="headerlink" title="获取管理员角色名称列表菜单"></a>获取管理员角色名称列表菜单</h3><p>管理员角色菜单列表，第一个默认：</p>
<p>role_id=0<br>role_name = 请选择</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/user/roleMenu</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;role_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;role_name&quot;: &quot;商品添加权限&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="添加角色按钮"><a href="#添加角色按钮" class="headerlink" title="添加角色按钮"></a>添加角色按钮</h3><h3 id="删除角色确定按钮"><a href="#删除角色确定按钮" class="headerlink" title="删除角色确定按钮"></a>删除角色确定按钮</h3><h3 id="编辑角色按钮"><a href="#编辑角色按钮" class="headerlink" title="编辑角色按钮"></a>编辑角色按钮</h3><p>获取角色的基本信息</p>
<h3 id="更新角色确定按钮"><a href="#更新角色确定按钮" class="headerlink" title="更新角色确定按钮"></a>更新角色确定按钮</h3><p>提交更新角色</p>
<h2 id="管理员日志"><a href="#管理员日志" class="headerlink" title="管理员日志"></a>管理员日志</h2><h3 id="获取IP列表"><a href="#获取IP列表" class="headerlink" title="获取IP列表"></a>获取IP列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/log/getIpList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;127.0.0.1&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;192.168.4.203&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;192.168.4.241&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="获取日志列表"><a href="#获取日志列表" class="headerlink" title="获取日志列表"></a>获取日志列表</h3><p>支持分页。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/log/getIpList</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @param   id         用户ID</span><br><span class="line">* @param   ip         用户IP</span><br><span class="line">* @param   sort_by    排序方式      不赋值默认al.log_id；  sort_by = al.log_time 或者 al.user_id</span><br><span class="line">* @param   sort_order 顺序还是倒序   不赋值默认倒序排列；    sort_order = 1 时为顺序</span><br><span class="line">* @param   page_size  分页大小</span><br><span class="line">* @param   page       第几页</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<ul>
<li>@return  array<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "list": [</span><br><span class="line">        &#123;</span><br><span class="line">            "log_time": "2018-04-20 15:09:34",</span><br><span class="line">            "log_id": "100",</span><br><span class="line">            "user_id": "1",</span><br><span class="line">            "log_info": "删除权限管理: 123",</span><br><span class="line">            "ip_address": "127.0.0.1",</span><br><span class="line">            "user_name": "admin"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "log_time": "2018-04-20 14:34:36",</span><br><span class="line">            "log_id": "99",</span><br><span class="line">            "user_id": "1",</span><br><span class="line">            "log_info": "编辑权限管理: mmc",</span><br><span class="line">            "ip_address": "127.0.0.1",</span><br><span class="line">            "user_name": "admin"</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    "filter": &#123;</span><br><span class="line">        "sort_by": "al.log_id",</span><br><span class="line">        "sort_order": "DESC",</span><br><span class="line">        "record_count": "100",</span><br><span class="line">        "page_size": 2,</span><br><span class="line">        "page": 1,</span><br><span class="line">        "page_count": 50,</span><br><span class="line">        "start": 0</span><br><span class="line">    &#125;,</span><br><span class="line">    "page_count": 50,</span><br><span class="line">    "record_count": "100"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="HTML功能"><a href="#HTML功能" class="headerlink" title="HTML功能"></a>HTML功能</h2><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.store.com/home/Tools/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"image"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传"</span> <span class="attr">id</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="pdf预览"><a href="#pdf预览" class="headerlink" title="pdf预览"></a>pdf预览</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;object classid=&quot;clsid:CA8A9780-280D-11CF-A24D-444553540000&quot; width=&quot;500&quot; height=&quot;1000&quot; border=&quot;0&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_Version&quot; value=&quot;65539&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_ExtentX&quot; value=&quot;20108&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_ExtentY&quot; value=&quot;10866&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_StockProps&quot; value=&quot;0&quot;&gt;</span><br><span class="line">&lt;param name=&quot;SRC&quot; value=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot;&gt;</span><br><span class="line">&lt;object data=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot; type=&quot;application/pdf&quot; width=&quot;1000&quot; height=&quot;1200&quot;&gt;</span><br><span class="line">&lt;/object&gt;</span><br><span class="line">&lt;/object&gt;</span><br></pre></td></tr></table></figure>
<h2 id="错误返回"><a href="#错误返回" class="headerlink" title="错误返回"></a>错误返回</h2><p>返回例子：</p>
<p>{status: int;  message:”string” }</p>
<p>|名称|类型|</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">status: int 消息ID</span><br><span class="line">    0：默认值  表示正常消息</span><br><span class="line">    210：</span><br><span class="line">    404：不存在</span><br><span class="line"></span><br><span class="line">    500：数据库操作消息</span><br><span class="line">    501：数据重复</span><br><span class="line">    777：权限操作错误</span><br><span class="line">    </span><br><span class="line">    400:session_id 失效</span><br><span class="line"></span><br><span class="line">message: string 消息描述</span><br></pre></td></tr></table></figure>
<p>[TOC]</p>
<h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><h2 id="文件获取路径"><a href="#文件获取路径" class="headerlink" title="文件获取路径"></a>文件获取路径</h2><blockquote>
<p><em>URL</em> = <a href="http://192.168.4.222/mmcshop/Uploads/" target="_blank" rel="noopener">http://192.168.4.222/mmcshop/Uploads/</a><br>相对路径：20180408/01.jpg<br>绝对路径：<a href="http://192.168.4.222/mmcshop/Uploads/20180408/01.jpg" target="_blank" rel="noopener">http://192.168.4.222/mmcshop/Uploads/20180408/01.jpg</a></p>
</blockquote>
<h2 id="登录-1"><a href="#登录-1" class="headerlink" title="登录"></a>登录</h2><blockquote>
<p>控制器：PublicController.class.php</p>
</blockquote>
<h3 id="checkLogin-1"><a href="#checkLogin-1" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote>
<p>HOST:<em>URL</em>/home/public/checkLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure>
<h3 id="验证登录-1"><a href="#验证登录-1" class="headerlink" title="验证登录"></a>验证登录</h3><blockquote>
<p>HOST:<em>URL</em>/home/public/verifyLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure>
<h2 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h2><h3 id="显示标题栏"><a href="#显示标题栏" class="headerlink" title="显示标题栏"></a>显示标题栏</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/showTopNav</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;cat_id&quot;: &quot;1&quot;,</span><br><span class="line">&quot;cat_name&quot;: &quot;无人机&quot;</span><br></pre></td></tr></table></figure>
<h3 id="显示侧边栏顶级分类"><a href="#显示侧边栏顶级分类" class="headerlink" title="显示侧边栏顶级分类"></a>显示侧边栏顶级分类</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/showLeftNav</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id    节点cat_id</span><br><span class="line">cat_name  节点cat_name</span><br></pre></td></tr></table></figure>
<h3 id="首页分类格子铺"><a href="#首页分类格子铺" class="headerlink" title="首页分类格子铺"></a>首页分类格子铺</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/indexCategoryGrid</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">shop_price</span><br><span class="line">goods_thumb</span><br><span class="line">goods_brief</span><br></pre></td></tr></table></figure>
<h3 id="首页精品推荐"><a href="#首页精品推荐" class="headerlink" title="首页精品推荐"></a>首页精品推荐</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/indexBestGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">shop_price</span><br><span class="line">goods_thumb</span><br><span class="line">goods_brief</span><br></pre></td></tr></table></figure>
<h3 id="畅销推荐"><a href="#畅销推荐" class="headerlink" title="畅销推荐"></a>畅销推荐</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/indexHotGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">shop_price</span><br><span class="line">goods_thumb</span><br><span class="line">goods_brief</span><br></pre></td></tr></table></figure>
<h3 id="首页新品推荐"><a href="#首页新品推荐" class="headerlink" title="首页新品推荐"></a>首页新品推荐</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/indexNewGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">shop_price</span><br><span class="line">goods_thumb</span><br><span class="line">goods_brief</span><br></pre></td></tr></table></figure>
<h3 id="首页预售推荐"><a href="#首页预售推荐" class="headerlink" title="首页预售推荐"></a>首页预售推荐</h3><blockquote>
<p>HOST：<em>URL</em>/home/public/indexPreSaleGoods</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">shop_price</span><br><span class="line">goods_thumb</span><br><span class="line">goods_brief</span><br></pre></td></tr></table></figure>
<h2 id="单产品页面信息"><a href="#单产品页面信息" class="headerlink" title="单产品页面信息"></a>单产品页面信息</h2><h3 id="获取分类名字"><a href="#获取分类名字" class="headerlink" title="获取分类名字"></a>获取分类名字</h3><blockquote>
<p>HOST：<em>URL</em>/home/goods/getCatName</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "cat_name": "挂载"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="选择产品单页信息"><a href="#选择产品单页信息" class="headerlink" title="选择产品单页信息"></a>选择产品单页信息</h3><blockquote>
<p>HOST：<em>URL</em>/home/goods/selectGoodsPage</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "goods_info": [</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_sn": "SN_000001",</span><br><span class="line">            "goods_name": "MC6-1550",</span><br><span class="line">            "click_count": "32",</span><br><span class="line">            "goods_number": "1",</span><br><span class="line">            "market_price": "130000.00",</span><br><span class="line">            "shop_price": "120000.00",</span><br><span class="line">            "add_time": "1523261083",</span><br><span class="line">            "goods_weight": "6.200",</span><br><span class="line">            "goods_thumb": "http://192.168.4.222/mmcshop/MSimage/201804/thumb_img/1_thumb_G_1524661096218.jpg",</span><br><span class="line">            "goods_img": "http://192.168.4.222/mmcshop/MSimage/201804/source_img/1_G_1524661096639.jpg"</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    "goods_gallery": [</span><br><span class="line">        &#123;</span><br><span class="line">            "img_id": "17",</span><br><span class="line">            "img_url": "http://192.168.4.222/mmcshop/MSimage/201804/source_img/1_G_1524661096639.jpg",</span><br><span class="line">            "thumb_url": "http://192.168.4.222/mmcshop/MSimage/201804/thumb_img/1_thumb_G_1524661096218.jpg"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "img_id": "18",</span><br><span class="line">            "img_url": "http://192.168.4.222/mmcshop/MSimage/201804/source_img/1_P_1524659682457.jpg",</span><br><span class="line">            "thumb_url": "http://192.168.4.222/mmcshop/MSimage/201804/thumb_img/1_thumb_P_1524659682730.jpg"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "img_id": "19",</span><br><span class="line">            "img_url": "http://192.168.4.222/mmcshop/MSimage/201804/source_img/1_P_1524659682612.jpg",</span><br><span class="line">            "thumb_url": "http://192.168.4.222/mmcshop/MSimage/201804/thumb_img/1_thumb_P_1524659682752.jpg"</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    "goods_data": [</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_id": "1",</span><br><span class="line">            "dcat_id": "1",</span><br><span class="line">            "file_version": "102",</span><br><span class="line">            "file_name": "MC6-1550S用户手册V1.0.pdf",</span><br><span class="line">            "file_ext": "pdf",</span><br><span class="line">            "file_url": "http://192.168.4.222/mmcshop/MSfile/1/document/1_P_1_102_1524635196828.pdf"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_id": "1",</span><br><span class="line">            "dcat_id": "5",</span><br><span class="line">            "file_version": "100",</span><br><span class="line">            "file_name": "mmc.mp4",</span><br><span class="line">            "file_ext": "mp4",</span><br><span class="line">            "file_url": "http://192.168.4.222/mmcshop/MSfile/1/media/1_M_5_100_1524569429101.mp4"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_id": "1",</span><br><span class="line">            "dcat_id": "4",</span><br><span class="line">            "file_version": "100",</span><br><span class="line">            "file_name": "MC6-1550S用户手册V1.0.pdf",</span><br><span class="line">            "file_ext": "pdf",</span><br><span class="line">            "file_url": "http://192.168.4.222/mmcshop/MSfile/1/document/1_P_4_100_1524628467471.pdf"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_id": "1",</span><br><span class="line">            "dcat_id": "3",</span><br><span class="line">            "file_version": "100",</span><br><span class="line">            "file_name": "MC6-1550S用户手册V1.0.pdf",</span><br><span class="line">            "file_ext": "pdf",</span><br><span class="line">            "file_url": "http://192.168.4.222/mmcshop/MSfile/1/document/1_P_3_100_1524637852110.pdf"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "goods_id": "1",</span><br><span class="line">            "dcat_id": "2",</span><br><span class="line">            "file_version": "101",</span><br><span class="line">            "file_name": "MC6-1550S用户手册V1.0.pdf",</span><br><span class="line">            "file_ext": "pdf",</span><br><span class="line">            "file_url": "http://192.168.4.222/mmcshop/MSfile/1/document/1_P_2_101_1524637903327.pdf"</span><br><span class="line">        &#125;</span><br><span class="line">    "goods_attr": [</span><br><span class="line">        &#123;</span><br><span class="line">            "attr_id": "1",</span><br><span class="line">            "attr_name": "机身重量"</span><br><span class="line">            "attr_value": ""            </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "attr_id": "2",</span><br><span class="line">            "attr_name": "最大起飞重量"</span><br><span class="line">            "attr_value": ""</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "attr_id": "3",</span><br><span class="line">            "attr_name": "标准载荷重量"</span><br><span class="line">            "attr_value": ""</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "attr_id": "4",</span><br><span class="line">            "attr_name": "最大载荷重量"</span><br><span class="line">            "attr_value": ""</span><br><span class="line">            </span><br><span class="line">        &#125;]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="比较两个商品是否可以进行对比"><a href="#比较两个商品是否可以进行对比" class="headerlink" title="比较两个商品是否可以进行对比"></a>比较两个商品是否可以进行对比</h3><blockquote>
<p>HOST：<em>URL</em>/home/goods/checkIfCompare</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@param   array     goods_id_array   [goods_id,goods_id]</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "status": 0,</span><br><span class="line">    "message": "可以进行对比!"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">     "status": 1,</span><br><span class="line">     "message": "不同类别，无法对选择的商品进行对比!"</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="开始进行产品对比"><a href="#开始进行产品对比" class="headerlink" title="开始进行产品对比"></a>开始进行产品对比</h3><blockquote>
<p>HOST：<em>URL</em>/home/goods/beginCompare</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@param   array     goods_id_array   [1,2,3……]</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_info&quot;: &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000001&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1550&quot;,</span><br><span class="line">            &quot;goods_type&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;shop_price&quot;: &quot;120000.00&quot;,</span><br><span class="line">            &quot;onsale_time&quot;: &quot;1524737357&quot;,</span><br><span class="line">            &quot;goods_weight&quot;: &quot;6.200&quot;,</span><br><span class="line">            &quot;goods_thumb&quot;: &quot;http://192.168.4.222/mmcshop/MSimage/no_photo_1200.png&quot;,</span><br><span class="line">            &quot;brand_name&quot;: &quot;科比特&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;goods_attr&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;attr_id&quot;: &quot;1&quot;,</span><br><span class="line">                &quot;attr_name&quot;: &quot;轴距&quot;,</span><br><span class="line">                &quot;attr_value&quot;: &quot;1550mm&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;attr_id&quot;: &quot;2&quot;,</span><br><span class="line">                &quot;attr_name&quot;: &quot;翼展&quot;,</span><br><span class="line">                &quot;attr_value&quot;: &quot;2265mm&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;attr_id&quot;: &quot;3&quot;,</span><br><span class="line">                &quot;attr_name&quot;: &quot;高度&quot;,</span><br><span class="line">                &quot;attr_value&quot;: &quot;510mm&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_info&quot;: &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000002&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1200&quot;,</span><br><span class="line">            &quot;goods_type&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;shop_price&quot;: &quot;120000.00&quot;,</span><br><span class="line">            &quot;onsale_time&quot;: &quot;1524737356&quot;,</span><br><span class="line">            &quot;goods_weight&quot;: &quot;5.600&quot;,</span><br><span class="line">            &quot;goods_thumb&quot;: &quot;http://192.168.4.222/mmcshop/MSimage/no_photo_1200.png&quot;,</span><br><span class="line">            &quot;brand_name&quot;: &quot;科比特&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;goods_attr&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;attr_id&quot;: &quot;1&quot;,</span><br><span class="line">                &quot;attr_name&quot;: &quot;轴距&quot;,</span><br><span class="line">                &quot;attr_value&quot;: &quot;1200mm&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;attr_id&quot;: &quot;2&quot;,</span><br><span class="line">                &quot;attr_name&quot;: &quot;翼展&quot;,</span><br><span class="line">                &quot;attr_value&quot;: &quot;1760mm&quot;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h1 id="更新内容"><a href="#更新内容" class="headerlink" title="更新内容"></a>更新内容</h1><h2 id="20180420"><a href="#20180420" class="headerlink" title="20180420"></a>20180420</h2><ul>
<li style="list-style: none"><input type="checkbox" checked> listGoods接口 增加 name_cn 产品负责人。</li>
</ul>
<h2 id="20180423"><a href="#20180423" class="headerlink" title="20180423"></a>20180423</h2><ul>
<li style="list-style: none"><input type="checkbox" checked> 增加商品管理 uploadDocument接口；</li>
<li style="list-style: none"><input type="checkbox" checked> 更新商品文件上传接口 HOST：<em>URL</em>/admin/data/uploadDataFile；</li>
<li style="list-style: none"><input type="checkbox" checked> 增加商品数据编辑按钮接口 HOST：<em>URL</em>/admin/data/editDataBtn</li>
</ul>
<h2 id="20180427"><a href="#20180427" class="headerlink" title="20180427"></a>20180427</h2><ul>
<li style="list-style: none"><input type="checkbox" checked> 新增商品预售在线修改：<em>URL</em>/admin/goods/isPresaleStatusChange</li>
<li style="list-style: none"><input type="checkbox" checked> 新增比较两个商品是否可以进行对比：HOST：<em>URL</em>/home/goods/checkIfCompare</li>
<li style="list-style: none"><input type="checkbox" checked> 新增开始进行产品对比： HOST：<em>URL</em>/home/goods/beginCompare</li>
</ul>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
	
		
			
		
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
	
		<li class="prev"><a href="/2018/04/19/uav/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 MMC
  
      with help from <a href="http://www.mmcuav.cn" target="_blank">MicroMultiCopter Aero Technology Co., Ltd</a> .    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
