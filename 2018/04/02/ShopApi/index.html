<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shop API | MMC Helper</title>
  <meta name="author" content="MMC">
  
  <meta name="description" content="MicroMultiCopter Aero Technology Co., Ltd">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shop API"/>
  <meta property="og:site_name" content="MMC Helper"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="MMC Helper" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">MMC Helper</a><span class="split"></span><span class="title">Shop API</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2018-04-02</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <blockquote>
<p>科比特商城系统API接口</p>
</blockquote>
<blockquote>
<p><a href="http://192.168.4.232/mmcshop/api.md" target="_blank" rel="noopener">商城API接口地址</a></p>
</blockquote>
<h1 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h1><p><a href="## 登录">!TOC</a></p>
<p><em>URL</em>: 192.168.4.232/mmcshop</p>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><blockquote>
<p>控制器：PublicController.class.php</p>
</blockquote>
<h3 id="checkLogin"><a href="#checkLogin" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/checkLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败  </span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/login</p>
</blockquote>
<h2 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h2><blockquote>
<p>HOST:<em>URL</em>/admin/public/logOut</p>
</blockquote>
<h2 id="商品种类列表"><a href="#商品种类列表" class="headerlink" title="商品种类列表"></a>商品种类列表</h2><h3 id="添加商品分类"><a href="#添加商品分类" class="headerlink" title="添加商品分类"></a>添加商品分类</h3><blockquote>
<p>权限：admin_priv(‘cat_manage’);<br>HOST:<em>URL</em>/admin/category/addCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：自增ID</span><br><span class="line">parent_id ：分类的父ID，取值于该表的cat_id字段</span><br><span class="line">sort_order：该分类在页面显示的顺序，数字越大顺序越靠后；同数字，id在前的先显示</span><br><span class="line">keywords：分类的关键字，是为了搜索</span><br><span class="line">cat_desc：分类描述</span><br><span class="line">measure_unit：该分类的计量单位</span><br><span class="line">cat_name：分类名称</span><br><span class="line">show_in_nav：是否显示在导航栏。0：不显示；1：显示在导航栏</span><br><span class="line">is_show：是否在前台页面显示，1，显示；0，不显示</span><br><span class="line">grade：该分类的最高和最低价之间的价格分级，当大于1 时，会根据最大最小价格区间分成区间，会在页面显示价格范围，如0-300,300-600,600-900这种</span><br><span class="line"></span><br><span class="line">取消字段：</span><br><span class="line">//style：该分类的单独的样式表的包括文件名部分的文件路径 </span><br><span class="line">//filter_attr：如果该字段有值，则该分类将还会按照该值对应在表goods_attr的goods_attr_id所对应的属性筛选，如，封面颜色下有红，黑分类筛选</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值 </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="提交更新商品分类信息"><a href="#提交更新商品分类信息" class="headerlink" title="提交更新商品分类信息"></a>提交更新商品分类信息</h3><blockquote>
<p>权限 :admin_priv(‘cat_manage’);<br>Table: catgory,cat_recommend<br>HOST:<em>URL</em>/admin/category/updateCategory</p>
<ul>
<li>请求方式：POST</li>
</ul>
</blockquote>
<ul>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">old_cat_name</span><br><span class="line">parent_id</span><br><span class="line">sort_order</span><br><span class="line">keywords</span><br><span class="line">cat_desc</span><br><span class="line">measure_unit</span><br><span class="line">cat_name</span><br><span class="line">is_show</span><br><span class="line">show_in_nav</span><br><span class="line">grade</span><br><span class="line"></span><br><span class="line">cat_recommend     精品：1  最新：2  热门：3      //Table：cat_recommend</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">- 返回值</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li>cat_name 已经存在<br>$status = 1<br>$message = ‘该分类已经存在，请直接编辑分类！’;</li>
<li>cat_name 为空<br>$status = 1<br>$message = ‘该分类为空，请填写后提交！’;</li>
<li><p>grade 不在区间[0,10]<br>$status = 1<br>$message = ‘价格区间超出范围!’;</p>
</li>
<li><p>addCategory 上传成功<br>$status = 0<br>$message = ‘cat add succed!’;</p>
</li>
<li>addCategory 上传失败<br>$status = 1<br>$message = ‘cat add Error!’;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 删除商品分类信息</span><br><span class="line"></span><br><span class="line">&gt; HOST:_URL_/admin/category/removeCategory</span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```  </span><br><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 当删除的分类下面有产品时，禁止删除操作</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;不是末级分类或者此分类下还存在有商品,您不能删除!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品分类删除成功&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="上级分类-parent-id"><a href="#上级分类-parent-id" class="headerlink" title="上级分类 parent_id"></a>上级分类 parent_id</h3><blockquote>
<p>HOST:<em>URL</em>/admin/category/catParentIdMenu</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参数</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值<br>默认加上0：顶级分类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：分类ID&gt;=1</span><br><span class="line">cat_name ：分类名字</span><br></pre></td></tr></table></figure>
</li>
<li><p>选择后前端取cat_id值，传输给parent_id</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent_id = cat_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="编辑商品分类"><a href="#编辑商品分类" class="headerlink" title="编辑商品分类"></a>编辑商品分类</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/editCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cat_info&quot;: &#123;</span><br><span class="line">        &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;cat_name&quot;: &quot;图传&quot;,</span><br><span class="line">        &quot;keywords&quot;: &quot;&quot;,</span><br><span class="line">        &quot;cat_desc&quot;: &quot;&quot;,</span><br><span class="line">        &quot;parent_id&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;sort_order&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;template_file&quot;: &quot;&quot;,</span><br><span class="line">        &quot;measure_unit&quot;: &quot;个&quot;,</span><br><span class="line">        &quot;show_in_nav&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;style&quot;: &quot;&quot;,</span><br><span class="line">        &quot;is_show&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;grade&quot;: &quot;5&quot;,</span><br><span class="line">        &quot;filter_attr&quot;: &quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;cat_recommend&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;1&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;2&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取商品分类列表"><a href="#获取商品分类列表" class="headerlink" title="获取商品分类列表"></a>获取商品分类列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/listCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> cat_id,</span><br><span class="line"> cat_name,</span><br><span class="line"> measure_unit,</span><br><span class="line"> is_show,</span><br><span class="line"> show_in_nav,</span><br><span class="line"> grade,</span><br><span class="line"> sort_order</span><br><span class="line">```  </span><br><span class="line">注：缺少商品数量，此项参数，后续再处理。</span><br><span class="line"></span><br><span class="line">### 获取商品分类菜单</span><br><span class="line"></span><br><span class="line">&gt; HOST：_URL_/admin/category/menuCategory</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">无参</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat_id,</span><br><span class="line">cat_name,</span><br><span class="line">parent_id</span><br></pre></td></tr></table></figure>
<h3 id="数量单位在线修改"><a href="#数量单位在线修改" class="headerlink" title="数量单位在线修改"></a>数量单位在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/measureUnitChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">measure_unit</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="导航栏在线修改"><a href="#导航栏在线修改" class="headerlink" title="导航栏在线修改"></a>导航栏在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/isShowChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,is_show</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="是否显示在线修改"><a href="#是否显示在线修改" class="headerlink" title="是否显示在线修改"></a>是否显示在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/showInNavChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,show_in_nav</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="价格分级在线修改"><a href="#价格分级在线修改" class="headerlink" title="价格分级在线修改"></a>价格分级在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/gradeChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">grade   取值范围[0,10]</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="排序在线修改"><a href="#排序在线修改" class="headerlink" title="排序在线修改"></a>排序在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/sortOrderChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,sort_order</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h2><h3 id="商品基本信息说明"><a href="#商品基本信息说明" class="headerlink" title="商品基本信息说明"></a>商品基本信息说明</h3><p>主要数据表介绍：</p>
<ul>
<li>mmc_goods：商品的基本信息表</li>
<li>mmc_goods_attr：存储商品的属性信息</li>
<li>mmc_goods_type：存储商品扩展分类，选择商品的所属类型，进而完善此商品的属性</li>
<li>mmc_attribute:存储扩展分类，详细属性列表，value在mmc_goods_attr中存储</li>
<li>mmc_brand：商品品牌，目前只是写入了科比特品牌，未来可能有其他品牌列入</li>
</ul>
<h4 id="通用信息"><a href="#通用信息" class="headerlink" title="通用信息"></a>通用信息</h4><ul>
<li>商品名称:goods_name<br>mmc_goods</li>
<li>商品货号:goods_sn</li>
<li>商品分类:cat_id<br>  mmc_catgory<br>  HOST：<em>URL</em>/admin/category/menuCategory</li>
<li><a href="扩展分类">扩展分类del</a></li>
<li>商品品牌:brand_id<br>  mmc_brand<br>  HOST：<em>URL</em>/admin/brand/menuBrand</li>
<li>本店售价：shop_price</li>
<li>市场售价：market_price</li>
<li>上传商品图片:goods_img</li>
<li>上传商品缩略图：goods_thumb</li>
</ul>
<h4 id="详细描述"><a href="#详细描述" class="headerlink" title="详细描述"></a>详细描述</h4><ul>
<li>详细描述：goods_desc</li>
</ul>
<h4 id="其他信息"><a href="#其他信息" class="headerlink" title="其他信息"></a>其他信息</h4><ul>
<li>商品重量：goods_weight      两位小数</li>
<li>商品库存数量：goods_number</li>
<li><a href="库存警告数量：warn_number">库存警告数量del</a></li>
<li><p>加入推荐：<br>  精品：is_best<br>  新品：is_new<br>  热销：is_hot     </p>
</li>
<li><p><a href="is_alone_sale">能作为普通商品销售del</a></p>
</li>
<li><p><a href="is_shipping">是否为免运费商品del</a></p>
</li>
<li><p>上架:is_on_sale</p>
</li>
<li>商品关键词：keywords</li>
<li>商品简单描述: goods_brief</li>
<li>商家备注：seller_note</li>
</ul>
<h4 id="商品属性"><a href="#商品属性" class="headerlink" title="商品属性"></a>商品属性</h4><blockquote>
<p>列表选择商品的所属类型</p>
<ul>
<li>商品类型：goods_type<br>  mmc_goods_type<br>  HOST：<em>URL</em>/admin/goodstype/menuGoodstype</li>
</ul>
</blockquote>
<h4 id="商品相册"><a href="#商品相册" class="headerlink" title="商品相册"></a>商品相册</h4><blockquote>
<p>mmc_goods_gallery</p>
<ul>
<li>goods_id</li>
<li>img_url</li>
<li>img_desc</li>
<li>thumb_url</li>
<li>img_original</li>
</ul>
</blockquote>
<h4 id="关联商品"><a href="#关联商品" class="headerlink" title="关联商品"></a>关联商品</h4><blockquote>
<p>table：mmc_link_goods</p>
<ul>
<li>goods_id</li>
<li>link_goods_id</li>
<li>is_double</li>
<li>admin_id</li>
</ul>
</blockquote>
<h4 id="配件"><a href="#配件" class="headerlink" title="配件"></a>配件</h4><blockquote>
<p>table: mmc_group_goods</p>
<ul>
<li>parent_id      父类ID：本商品goods_id</li>
<li>goods_id       配件商品ID：mmc_goods</li>
<li>goods_price    配件价格</li>
<li>admin_id</li>
</ul>
</blockquote>
<h4 id="备用"><a href="#备用" class="headerlink" title="备用"></a>备用</h4><p>add_goods_article  goodsId<br>drop_goods_article  goodsId</p>
<h3 id="添加商品"><a href="#添加商品" class="headerlink" title="添加商品"></a>添加商品</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsAdd</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:文件类型</span><br><span class="line">goods_thumb:文件类型</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">其他错误信息：</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;文件类型不符合要求!&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="商品提交更新"><a href="#商品提交更新" class="headerlink" title="商品提交更新"></a>商品提交更新</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsUpdate</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:保留，暂不提交</span><br><span class="line">goods_thumb:保留，暂不提交</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品编辑"><a href="#商品编辑" class="headerlink" title="商品编辑"></a>商品编辑</h3><blockquote>
<p>说明：商品的添加界面<br>HOST：<em>URL</em>/admin/goods/goodsEdit<br>参数来源：</p>
<ul>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">           &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">           &quot;cat_id&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;goods_sn&quot;: &quot;120001&quot;,</span><br><span class="line">           &quot;goods_name&quot;: &quot;1200&quot;,</span><br><span class="line">           &quot;goods_name_style&quot;: &quot;+&quot;,</span><br><span class="line">           &quot;click_count&quot;: &quot;6&quot;,</span><br><span class="line">           &quot;brand_id&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;provider_name&quot;: &quot;&quot;,</span><br><span class="line">           &quot;goods_number&quot;: &quot;10&quot;,</span><br><span class="line">           &quot;goods_weight&quot;: &quot;0.000&quot;,</span><br><span class="line">           &quot;market_price&quot;: &quot;2400.00&quot;,</span><br><span class="line">           &quot;virtual_sales&quot;: &quot;2&quot;,</span><br><span class="line">           &quot;shop_price&quot;: &quot;2000.00&quot;,</span><br><span class="line">           &quot;promote_price&quot;: &quot;0.00&quot;,</span><br><span class="line">           &quot;promote_start_date&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;promote_end_date&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;warn_number&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;keywords&quot;: &quot;&quot;,</span><br><span class="line">           &quot;goods_brief&quot;: &quot;&quot;,</span><br><span class="line">           &quot;goods_desc&quot;: &quot;&quot;,</span><br><span class="line">           &quot;goods_thumb&quot;: &quot;images/201803/thumb_img/2_thumb_G_1522055443431.jpg&quot;,</span><br><span class="line">           &quot;goods_img&quot;: &quot;images/201803/goods_img/2_G_1522055443592.jpg&quot;,</span><br><span class="line">           &quot;original_img&quot;: &quot;images/201803/source_img/2_G_1522055443812.png&quot;,</span><br><span class="line">           &quot;is_real&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;extension_code&quot;: &quot;&quot;,</span><br><span class="line">           &quot;is_on_sale&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;is_alone_sale&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;is_shipping&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;integral&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;add_time&quot;: &quot;1520935939&quot;,</span><br><span class="line">           &quot;sort_order&quot;: &quot;100&quot;,</span><br><span class="line">           &quot;is_delete&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;is_best&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;is_new&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;is_hot&quot;: &quot;1&quot;,</span><br><span class="line">           &quot;is_promote&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;bonus_type_id&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;last_update&quot;: &quot;1522055443&quot;,</span><br><span class="line">           &quot;goods_type&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;seller_note&quot;: &quot;&quot;,</span><br><span class="line">           &quot;give_integral&quot;: &quot;-1&quot;,</span><br><span class="line">           &quot;rank_integral&quot;: &quot;-1&quot;,</span><br><span class="line">           &quot;suppliers_id&quot;: &quot;0&quot;,</span><br><span class="line">           &quot;is_check&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="删除商品"><a href="#删除商品" class="headerlink" title="删除商品"></a>删除商品</h3><blockquote>
<p>HOST:<em>URL</em>/admin/goods/goodsRemove</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">good_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="商品列表"><a href="#商品列表" class="headerlink" title="商品列表"></a>商品列表</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/listGoods</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">参数说明：</span><br><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br><span class="line">goods_sn,货号</span><br><span class="line">shop_price,价格</span><br><span class="line">is_on_sale,上架</span><br><span class="line">is_best,精品</span><br><span class="line">is_new,新品</span><br><span class="line">is_hot,热销</span><br><span class="line">sort_order,推荐排序</span><br><span class="line">goods_number库存</span><br><span class="line"></span><br><span class="line">return:</span><br><span class="line">[</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;1&quot;,&quot;goods_name&quot;:&quot;1550&quot;,&quot;goods_sn&quot;:&quot;20180313&quot;,&quot;shop_price&quot;:&quot;5000.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;,</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;2&quot;,&quot;goods_name&quot;:&quot;1200&quot;,&quot;goods_sn&quot;:&quot;120001&quot;,&quot;shop_price&quot;:&quot;2000.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;,</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;3&quot;,&quot;goods_name&quot;:&quot;T15&quot;,&quot;goods_sn&quot;:&quot;ECS000003&quot;,&quot;shop_price&quot;:&quot;0.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>注：删除虚拟销量virtual_sales标签；</p>
<h3 id="商品名称在线修改"><a href="#商品名称在线修改" class="headerlink" title="商品名称在线修改"></a>商品名称在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsNameChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品货号在线修改"><a href="#商品货号在线修改" class="headerlink" title="商品货号在线修改"></a>商品货号在线修改</h3><p>权限：goods_manage<br>注：商品货号为唯一识别码，修改前先进性查重操作。</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsSnChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_sn,货号</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">status = 501;</span><br><span class="line">message= 该条数据存在；</span><br><span class="line"></span><br><span class="line">status = 777；</span><br><span class="line">message= 权限；</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品价格在线修改"><a href="#商品价格在线修改" class="headerlink" title="商品价格在线修改"></a>商品价格在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/shopPriceChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">shop_price,价格</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品上架在线修改"><a href="#商品上架在线修改" class="headerlink" title="商品上架在线修改"></a>商品上架在线修改</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/onSaleStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_on_sale,上架, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品精品在线修改"><a href="#商品精品在线修改" class="headerlink" title="商品精品在线修改"></a>商品精品在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isBestStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_best,精品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品新品在线修改"><a href="#商品新品在线修改" class="headerlink" title="商品新品在线修改"></a>商品新品在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isNewStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_new,新品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品热销在线修改"><a href="#商品热销在线修改" class="headerlink" title="商品热销在线修改"></a>商品热销在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/isHotStatusChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_hot,热销, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品推荐排序在线修改"><a href="#商品推荐排序在线修改" class="headerlink" title="商品推荐排序在线修改"></a>商品推荐排序在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/sortOrderChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">sort_order,推荐排序</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品库存在线修改"><a href="#商品库存在线修改" class="headerlink" title="商品库存在线修改"></a>商品库存在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goods/goodsNumberChange</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_number，库存</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="商品数据管理"><a href="#商品数据管理" class="headerlink" title="商品数据管理"></a>商品数据管理</h2><p>主要数据表介绍：</p>
<ul>
<li>mmc_data：商品数据的状态表</li>
<li>mmc_data_file: 商品数据表</li>
<li>mmc_data_type: 商品文件名称列表</li>
</ul>
<h3 id="表结构说明"><a href="#表结构说明" class="headerlink" title="表结构说明"></a>表结构说明</h3><ul>
<li>返回值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file_id: 序号ID</span><br><span class="line">goods_id:产品ID  -&gt;  goods_name：产品名字   //从goods表中获取</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="商品数据列表"><a href="#商品数据列表" class="headerlink" title="商品数据列表"></a>商品数据列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/dataList</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//成功</span><br><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn</span><br><span class="line">is_brief_ch  商品简页</span><br><span class="line">is_brief_en</span><br><span class="line">is_userguide_ch 用户手册</span><br><span class="line">is_userguide_en</span><br><span class="line">is_openvideo  开箱视频</span><br><span class="line">is_installvideo  安装视频</span><br><span class="line">is_debugvideo 测试视频</span><br><span class="line">is_project 立项书</span><br><span class="line"></span><br><span class="line">//错误提示</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据获取失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="商品数据编辑"><a href="#商品数据编辑" class="headerlink" title="商品数据编辑"></a>商品数据编辑</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/dataList</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="商品数据数据类型"><a href="#商品数据数据类型" class="headerlink" title="商品数据数据类型"></a>商品数据数据类型</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/getDataCat</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;dcat_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;dcat_name&quot;: &quot;产品简页(中文)&quot;,</span><br><span class="line">        &quot;enabled&quot;: &quot;1&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="上传商品数据文件"><a href="#上传商品数据文件" class="headerlink" title="上传商品数据文件"></a>上传商品数据文件</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/uploadDataFile</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">goods_id </span><br><span class="line">dcat_id</span><br><span class="line">file_version</span><br><span class="line">data_file:    文件</span><br><span class="line">file_type：不输入则默认全类型上传  </span><br><span class="line">           类型可选：pdf  media  image</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//更新失败</span><br><span class="line">status  =1</span><br><span class="line">message = &apos;数据更新失败!&apos;,</span><br><span class="line">//更新成功</span><br><span class="line">status  =0</span><br><span class="line">message = &apos;数据更新成功!&apos;,</span><br><span class="line"></span><br><span class="line">// goods_id为空错误</span><br><span class="line">status  =1</span><br><span class="line">message = 商品id为空，请重新操作！</span><br><span class="line">// dcat_id为空错误</span><br><span class="line">// file_version为空错误</span><br><span class="line">// data_file为空错误</span><br></pre></td></tr></table></figure>
<h3 id="获取商品名字"><a href="#获取商品名字" class="headerlink" title="获取商品名字"></a>获取商品名字</h3><blockquote>
<p>HOST：<em>URL</em>/admin/data/getGoodsName</p>
<ul>
<li>请求方式：POST</li>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_name&quot;: &quot;1550&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="商品品牌"><a href="#商品品牌" class="headerlink" title="商品品牌"></a>商品品牌</h2><p>商品品牌：mmc_brand</p>
<h3 id="商品品牌菜单"><a href="#商品品牌菜单" class="headerlink" title="商品品牌菜单"></a>商品品牌菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/brand/menuBrand</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;brand_id&quot;:&quot;1&quot;,</span><br><span class="line">        &quot;brand_name&quot;:&quot;\u79d1\u6bd4\u7279&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="商品类型分类"><a href="#商品类型分类" class="headerlink" title="商品类型分类"></a>商品类型分类</h2><p>商品类型：mmc_goods_type</p>
<h3 id="商品类型菜单"><a href="#商品类型菜单" class="headerlink" title="商品类型菜单"></a>商品类型菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goodstype/menuGoodstype</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">cat_name</span><br></pre></td></tr></table></figure>
<h3 id="商品属性菜单"><a href="#商品属性菜单" class="headerlink" title="商品属性菜单"></a>商品属性菜单</h3><blockquote>
<p>HOST：<em>URL</em>/admin/goodstype/menuAttribute</p>
<ul>
<li>请求方式：POST</li>
<li>参数</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;attr_id&quot;: &quot;1&quot;,</span><br><span class="line">&quot;attr_name&quot;: &quot;最大起飞重量&quot;</span><br></pre></td></tr></table></figure>
<h2 id="HTML功能"><a href="#HTML功能" class="headerlink" title="HTML功能"></a>HTML功能</h2><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.store.com/home/Tools/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"image"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传"</span> <span class="attr">id</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="pdf预览"><a href="#pdf预览" class="headerlink" title="pdf预览"></a>pdf预览</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;object classid=&quot;clsid:CA8A9780-280D-11CF-A24D-444553540000&quot; width=&quot;500&quot; height=&quot;1000&quot; border=&quot;0&quot;&gt;  </span><br><span class="line">&lt;param name=&quot;_Version&quot; value=&quot;65539&quot;&gt;  </span><br><span class="line">&lt;param name=&quot;_ExtentX&quot; value=&quot;20108&quot;&gt;  </span><br><span class="line">&lt;param name=&quot;_ExtentY&quot; value=&quot;10866&quot;&gt;  </span><br><span class="line">&lt;param name=&quot;_StockProps&quot; value=&quot;0&quot;&gt;  </span><br><span class="line">&lt;param name=&quot;SRC&quot; value=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot;&gt;  </span><br><span class="line">&lt;object data=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot; type=&quot;application/pdf&quot; width=&quot;1000&quot; height=&quot;1200&quot;&gt;   </span><br><span class="line">&lt;/object&gt;  </span><br><span class="line">&lt;/object&gt;</span><br></pre></td></tr></table></figure>
<h2 id="错误返回"><a href="#错误返回" class="headerlink" title="错误返回"></a>错误返回</h2><p>返回例子：</p>
<p>{status: int;  message:”string” }</p>
<p>|名称|类型|</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">status: int 消息ID </span><br><span class="line">    0：默认值  表示正常消息     </span><br><span class="line">    210：</span><br><span class="line">    404：不存在</span><br><span class="line">    </span><br><span class="line">    500：数据库操作消息</span><br><span class="line">    501：数据重复</span><br><span class="line">    777：权限操作错误</span><br><span class="line">    </span><br><span class="line">message: string 消息描述</span><br></pre></td></tr></table></figure>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
	
		<li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 MMC
  
      with help from <a href="http://www.mmcuav.cn" target="_blank">MicroMultiCopter Aero Technology Co., Ltd</a> .    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
