<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shop API | MMC Helper</title>
  <meta name="author" content="MMC">
  
  <meta name="description" content="MicroMultiCopter Aero Technology Co., Ltd">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Shop API"/>
  <meta property="og:site_name" content="MMC Helper"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="MMC Helper" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">MMC Helper</a><span class="split"></span><span class="title">Shop API</span><span class="date" id="title-date"><i class="fa fa-clock-o"></i> 2018-04-02</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <blockquote>
<p>科比特商城系统API接口</p>
</blockquote>
<blockquote>
<p><a href="http://192.168.4.232/mmcshop/api.md" target="_blank" rel="noopener">商城API接口地址</a></p>
</blockquote>
<h1 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h1><p><a href="## 登录">!TOC</a></p>
<p><em>URL</em>: 192.168.4.232/mmcshop</p>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><blockquote>
<p>控制器：PublicController.class.php</p>
</blockquote>
<h3 id="checkLogin"><a href="#checkLogin" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/checkLogin</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败  </span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><blockquote>
<p>HOST:<em>URL</em>/admin/public/login</p>
</blockquote>
<h2 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h2><blockquote>
<p>HOST:<em>URL</em>/admin/public/logOut</p>
</blockquote>
<h2 id="商品种类列表"><a href="#商品种类列表" class="headerlink" title="商品种类列表"></a>商品种类列表</h2><h3 id="添加商品分类"><a href="#添加商品分类" class="headerlink" title="添加商品分类"></a>添加商品分类</h3><blockquote>
<p>权限：admin_priv(‘cat_manage’);<br>HOST:<em>URL</em>/admin/category/addCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：自增ID</span><br><span class="line">parent_id ：分类的父ID，取值于该表的cat_id字段</span><br><span class="line">sort_order：该分类在页面显示的顺序，数字越大顺序越靠后；同数字，id在前的先显示</span><br><span class="line">keywords：分类的关键字，是为了搜索</span><br><span class="line">cat_desc：分类描述</span><br><span class="line">measure_unit：该分类的计量单位</span><br><span class="line">cat_name：分类名称</span><br><span class="line">show_in_nav：是否显示在导航栏。0：不显示；1：显示在导航栏</span><br><span class="line">is_show：是否在前台页面显示，1，显示；0，不显示</span><br><span class="line">grade：该分类的最高和最低价之间的价格分级，当大于1 时，会根据最大最小价格区间分成区间，会在页面显示价格范围，如0-300,300-600,600-900这种</span><br><span class="line"></span><br><span class="line">取消字段：</span><br><span class="line">//style：该分类的单独的样式表的包括文件名部分的文件路径 </span><br><span class="line">//filter_attr：如果该字段有值，则该分类将还会按照该值对应在表goods_attr的goods_attr_id所对应的属性筛选，如，封面颜色下有红，黑分类筛选</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值 </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="提交更新商品分类信息"><a href="#提交更新商品分类信息" class="headerlink" title="提交更新商品分类信息"></a>提交更新商品分类信息</h3><blockquote>
<p>权限 :admin_priv(‘cat_manage’);<br>Table: catgory,cat_recommend<br>HOST:<em>URL</em>/admin/category/updateCategory</p>
<ul>
<li>请求方式：POST</li>
</ul>
</blockquote>
<ul>
<li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">old_cat_name</span><br><span class="line">parent_id</span><br><span class="line">sort_order</span><br><span class="line">keywords</span><br><span class="line">cat_desc</span><br><span class="line">measure_unit</span><br><span class="line">cat_name</span><br><span class="line">is_show</span><br><span class="line">show_in_nav</span><br><span class="line">grade</span><br><span class="line"></span><br><span class="line">cat_recommend     精品：1  最新：2  热门：3      //Table：cat_recommend</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">- 返回值</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li>cat_name 已经存在<br>$status = 1<br>$message = ‘该分类已经存在，请直接编辑分类！’;</li>
<li>cat_name 为空<br>$status = 1<br>$message = ‘该分类为空，请填写后提交！’;</li>
<li><p>grade 不在区间[0,10]<br>$status = 1<br>$message = ‘价格区间超出范围!’;</p>
</li>
<li><p>addCategory 上传成功<br>$status = 0<br>$message = ‘cat add succed!’;</p>
</li>
<li>addCategory 上传失败<br>$status = 1<br>$message = ‘cat add Error!’;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 删除商品分类信息</span><br><span class="line"></span><br><span class="line">&gt; HOST:_URL_/admin/category/removeCategory</span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```  </span><br><span class="line">cat_id</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<h3 id="上级分类-parent-id"><a href="#上级分类-parent-id" class="headerlink" title="上级分类 parent_id"></a>上级分类 parent_id</h3><blockquote>
<p>HOST:<em>URL</em>/admin/category/catParentIdMenu</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参数</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值<br>默认加上0：顶级分类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：分类ID&gt;=1</span><br><span class="line">cat_name ：分类名字</span><br></pre></td></tr></table></figure>
</li>
<li><p>选择后前端取cat_id值，传输给parent_id</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent_id = cat_id</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="编辑商品"><a href="#编辑商品" class="headerlink" title="编辑商品"></a>编辑商品</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/editCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cat_info&quot;: &#123;</span><br><span class="line">        &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;cat_name&quot;: &quot;图传&quot;,</span><br><span class="line">        &quot;keywords&quot;: &quot;&quot;,</span><br><span class="line">        &quot;cat_desc&quot;: &quot;&quot;,</span><br><span class="line">        &quot;parent_id&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;sort_order&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;template_file&quot;: &quot;&quot;,</span><br><span class="line">        &quot;measure_unit&quot;: &quot;个&quot;,</span><br><span class="line">        &quot;show_in_nav&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;style&quot;: &quot;&quot;,</span><br><span class="line">        &quot;is_show&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;grade&quot;: &quot;5&quot;,</span><br><span class="line">        &quot;filter_attr&quot;: &quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;cat_recommend&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;1&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;2&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取商品分类列表"><a href="#获取商品分类列表" class="headerlink" title="获取商品分类列表"></a>获取商品分类列表</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/listCategory</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> cat_id,</span><br><span class="line"> cat_name,</span><br><span class="line"> measure_unit,</span><br><span class="line"> is_show,</span><br><span class="line"> show_in_nav,</span><br><span class="line"> grade,</span><br><span class="line"> sort_order</span><br><span class="line">```  </span><br><span class="line">注：缺少商品数量，此项参数，后续再处理。</span><br><span class="line"></span><br><span class="line">### 数量单位在线修改</span><br><span class="line"></span><br><span class="line">&gt; HOST：_URL_/admin/category/measureUnitChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">cat_id</span><br><span class="line">measure_unit</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="导航栏在线修改"><a href="#导航栏在线修改" class="headerlink" title="导航栏在线修改"></a>导航栏在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/isShowChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,is_show</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="是否显示在线修改"><a href="#是否显示在线修改" class="headerlink" title="是否显示在线修改"></a>是否显示在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/showInNavChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,show_in_nav</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="价格分级在线修改"><a href="#价格分级在线修改" class="headerlink" title="价格分级在线修改"></a>价格分级在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/gradeChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,grade</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="排序在线修改"><a href="#排序在线修改" class="headerlink" title="排序在线修改"></a>排序在线修改</h3><blockquote>
<p>HOST：<em>URL</em>/admin/category/sortOrderChange</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,sort_order</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure>
<h2 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h2><h3 id="商品列表"><a href="#商品列表" class="headerlink" title="商品列表"></a>商品列表</h3><p>权限：goods_manage</p>
<blockquote>
<p>HOST：<em>URL</em>/admin/goods/listGoods</p>
</blockquote>
<ul>
<li>请求方式：POST</li>
<li><p>参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">参数说明：</span><br><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br><span class="line">goods_sn,货号</span><br><span class="line">shop_price,价格</span><br><span class="line">is_on_sale,上架</span><br><span class="line">is_best,精品</span><br><span class="line">is_new,新品</span><br><span class="line">is_hot,热销</span><br><span class="line">sort_order,推荐排序</span><br><span class="line">goods_number库存</span><br><span class="line"></span><br><span class="line">return:</span><br><span class="line">[</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;1&quot;,&quot;goods_name&quot;:&quot;1550&quot;,&quot;goods_sn&quot;:&quot;20180313&quot;,&quot;shop_price&quot;:&quot;5000.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;,</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;2&quot;,&quot;goods_name&quot;:&quot;1200&quot;,&quot;goods_sn&quot;:&quot;120001&quot;,&quot;shop_price&quot;:&quot;2000.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;,</span><br><span class="line">&#123;&quot;goods_id&quot;:&quot;3&quot;,&quot;goods_name&quot;:&quot;T15&quot;,&quot;goods_sn&quot;:&quot;ECS000003&quot;,&quot;shop_price&quot;:&quot;0.00&quot;,&quot;is_on_sale&quot;:&quot;1&quot;,&quot;is_best&quot;:&quot;1&quot;,&quot;is_new&quot;:&quot;1&quot;,&quot;is_hot&quot;:&quot;1&quot;,&quot;sort_order&quot;:&quot;100&quot;,&quot;goods_number&quot;:&quot;10&quot;&#125;</span><br><span class="line">]</span><br><span class="line">``` </span><br><span class="line">注：删除虚拟销量virtual_sales标签；</span><br><span class="line"></span><br><span class="line">### 商品名称在线修改</span><br><span class="line">权限：goods_manage</span><br><span class="line">&gt; HOST：_URL_/admin/goods/goodsNameChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">### 商品货号在线修改</span><br><span class="line">权限：goods_manage</span><br><span class="line">注：商品货号为唯一识别码，修改前先进性查重操作。</span><br><span class="line"></span><br><span class="line">&gt; HOST：_URL_/admin/goods/goodsSnChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">goods_sn,货号</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">status = 501;</span><br><span class="line">message= 该条数据存在；</span><br><span class="line"></span><br><span class="line">status = 777；</span><br><span class="line">message= 权限；</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 商品价格在线修改</span><br><span class="line">权限：goods_manage</span><br><span class="line">&gt; HOST：_URL_/admin/goods/shopPriceChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">shop_price,价格</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 商品上架在线修改</span><br><span class="line">权限：goods_manage</span><br><span class="line">&gt; HOST：_URL_/admin/goods/onSaleStatusChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">is_on_sale,上架, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 商品精品在线修改</span><br><span class="line">&gt; HOST：_URL_/admin/goods/isBestStatusChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">is_best,精品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">### 商品新品在线修改</span><br><span class="line">&gt; HOST：_URL_/admin/goods/isNewStatusChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">is_new,新品, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
<ul>
<li><p>返回值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line">### 商品热销在线修改</span><br><span class="line">&gt; HOST：_URL_/admin/goods/isHotStatusChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">is_hot,热销, 0:取消  1：选中</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line">### 商品推荐排序在线修改</span><br><span class="line">&gt; HOST：_URL_/admin/goods/sortOrderChange</span><br><span class="line"></span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">sort_order,推荐排序</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line">### 商品库存在线修改</span><br><span class="line">&gt; HOST：_URL_/admin/goods/goodsNumberChange</span><br><span class="line">- 请求方式：POST</span><br><span class="line">- 参数</span><br><span class="line">```   </span><br><span class="line">goods_id,编号</span><br><span class="line">goods_number，库存</span><br></pre></td></tr></table></figure>
<ul>
<li>返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line">``` </span><br><span class="line">## 文件上传</span><br><span class="line"></span><br><span class="line">&gt; HOSt:_URL_/home/Tools/upload</span><br><span class="line"></span><br><span class="line">```html</span><br><span class="line">&lt;form action=&quot;http://www.store.com/home/Tools/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;file&quot; name=&quot;image&quot;/&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;上传&quot; id=&quot;button&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<h2 id="错误返回"><a href="#错误返回" class="headerlink" title="错误返回"></a>错误返回</h2><p>返回例子：</p>
<p>{status: int;  message:”string” }</p>
<p>|名称|类型|<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">status: int 消息ID </span><br><span class="line">    0：默认值  表示正常消息     </span><br><span class="line">    210：</span><br><span class="line">    404：不存在</span><br><span class="line">    </span><br><span class="line">    500：数据库操作消息</span><br><span class="line">    501：数据重复</span><br><span class="line">    777：权限操作错误</span><br><span class="line">    </span><br><span class="line">message: string 消息描述</span><br></pre></td></tr></table></figure></p>
	  

	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
	
		<li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2018 MMC
  
      with help from <a href="http://www.mmcuav.cn" target="_blank">MicroMultiCopter Aero Technology Co., Ltd</a> .    
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


</body>
</html>
