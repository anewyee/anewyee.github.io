<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>党员发展工作中常见问题</title>
      <link href="/2018/04/24/PartyInfo_QAS/"/>
      <url>/2018/04/24/PartyInfo_QAS/</url>
      <content type="html"><![CDATA[<h2 id="入党介绍人"><a href="#入党介绍人" class="headerlink" title="入党介绍人"></a>入党介绍人</h2><p>入党介绍人，一般应由本单位党支部的党员担任。<br>因为同一单位党支部的党员对申请入党人的思想、工作、学习等方面的情况比较了解，担任入党介绍人有利于对其进行教育和考察。</p><p>如申请入党的人所在单位党支部没有符合条件的正式党员做其入党介绍人时，也可以在上级党委范围内的其他支部的正式党员（包括上级党组织领导成员）中确定入党介绍人。但在支部大会讨论接收申请人入党时，该介绍人只能负责介绍被介绍人的情况，并表明自己的意见，而不能参加表决。</p><h2 id="发展党员流程"><a href="#发展党员流程" class="headerlink" title="发展党员流程"></a>发展党员流程</h2><p><span class="label label-danger">Q</span>  <code>发展党员流程图</code></p><p><span class="label label-success">A</span>  (下载：<a href="http://ois5yh1xg.bkt.clouddn.com/party-open-flow.pdf" target="_blank" rel="noopener">发展党员流程图-拉页-彩色</a>)<br>正在加载…</p><object classid="clsid:CA8A9780-280D-11CF-A24D-444553540000" width="500" height="1000" border="0"><br><param name="_Version" value="65539"><br><param name="_ExtentX" value="20108"><br><param name="_ExtentY" value="10866"><br><param name="_StockProps" value="0"><br><param name="SRC" value="http://ois5yh1xg.bkt.clouddn.com/party-open-flow.pdf"><br><object data="http://ois5yh1xg.bkt.clouddn.com/party-open-flow.pdf" type="application/pdf" width="1000" height="1200"><br></object><br></object>]]></content>
      
      <categories>
          
          <category> 党务工作 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>无人机数据接口</title>
      <link href="/2018/04/19/uav/"/>
      <url>/2018/04/19/uav/</url>
      <content type="html"><![CDATA[<p>[toc]</p><p>##1. 团队管理接口 </p><pre><code>请求地址：http://www.testmmc.top/mmcserver/Home/Team/</code></pre><hr><h2 id="1-1-创建团队"><a href="#1-1-创建团队" class="headerlink" title="####1.1 创建团队"></a>####1.1 创建团队</h2><h2 id="方法名-createTeam"><a href="#方法名-createTeam" class="headerlink" title="######方法名:createTeam"></a>######方法名:createTeam</h2><h2 id="请求方式：GET"><a href="#请求方式：GET" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数:</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">类型</th><th style="text-align:center">是否必填</th><th>最大长度</th><th>描述</th><th>示例值</th></tr></thead><tbody><tr><td style="text-align:center">username</td><td style="text-align:center">string</td><td style="text-align:center">是</td><td>30</td><td>用户名</td><td>mmc123456</td></tr><tr><td style="text-align:center">team_name</td><td style="text-align:center">string</td><td style="text-align:center">是</td><td>30</td><td>团队名</td><td>XX组织</td></tr></tbody></table><hr><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><h2 id="message-string-消息提示"><a href="#message-string-消息提示" class="headerlink" title="|message|string|消息提示|"></a>|message|string|消息提示|</h2><pre><code>status参数说明</code></pre><table><thead><tr><th style="text-align:center">status</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">100</td><td style="text-align:center">添加成功</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">添加失败，没有权限</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">添加失败，团队名已存在</td></tr></tbody></table><hr><h2 id="1-2-邀请成员"><a href="#1-2-邀请成员" class="headerlink" title="####1.2 邀请成员"></a>####1.2 邀请成员</h2><p>######方法名：inviteMember</p><h2 id="请求方式：POST"><a href="#请求方式：POST" class="headerlink" title="######请求方式：POST"></a>######请求方式：POST</h2><p>######请求参数:<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|<br>|dstName|string|是|30|被邀请者用户名|test123456|<br>|teamName|string|是|30|团队名|XX组织|<br>|permission|int|是|30|给被邀请者分配的角色，权限|2|</p><pre><code>permission参数权限分配说明</code></pre><table><thead><tr><th style="text-align:center">permission</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">2</td><td style="text-align:center">飞手</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">指挥中心监控人员</td></tr></tbody></table><hr><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><pre><code>status参数说明</code></pre><table><thead><tr><th style="text-align:center">status</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">100</td><td style="text-align:center">邀请已经发出</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">没有邀请权限</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">被邀请者不存在，或已加入其他团队</td></tr></tbody></table><p>####1.3 邀请扩展用户</p><h2 id="方法名-inviteExtendUser"><a href="#方法名-inviteExtendUser" class="headerlink" title="######方法名:inviteExtendUser"></a>######方法名:inviteExtendUser</h2><h2 id="请求方式：POST-1"><a href="#请求方式：POST-1" class="headerlink" title="######请求方式：POST"></a>######请求方式：POST</h2><p>######请求参数:<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="dstName-string-是-30-被邀请者用户名-test123456"><a href="#dstName-string-是-30-被邀请者用户名-test123456" class="headerlink" title="|dstName|string|是|30|被邀请者用户名|test123456|"></a>|dstName|string|是|30|被邀请者用户名|test123456|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><pre><code>status参数说明</code></pre><table><thead><tr><th style="text-align:center">status</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">100</td><td style="text-align:center">邀请已经发出</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">没有邀请权限</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">只能邀请管理员作为扩展</td></tr></tbody></table><hr><p>####1.4 查询当前用户的团队信息</p><h2 id="方法名-getTeamInfo"><a href="#方法名-getTeamInfo" class="headerlink" title="######方法名:getTeamInfo"></a>######方法名:getTeamInfo</h2><h2 id="请求方式：GET-1"><a href="#请求方式：GET-1" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数:<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456"><a href="#username-string-是-30-用户名-mmc123456" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：JSON 格式字符串<br>    {<br>        “username”: “admin”,  当前用户名<br>        “team_name”: “china”, 团队名<br>        “permission”: “0”,    权限，0为管理员，2为队员，3为飞手<br>        “subordinate”: [      当前用户的扩展（即下级）用户列表<br>            “1213”,<br>            “fight123456”,<br>            “mmc123456”<br>        ],<br>        “member”: [          当前团队的成员列表<br>            {<br>                “username”: “mmc123456”,<br>                “permission”: “2”<br>            },<br>            {<br>                “username”: “admin”,<br>                “permission”: “0”<br>            }<br>        ],<br>    }</p><hr><p>##2. 用户注册、登录接口<br>    请求地址<a href="http://www.testmmc.top/mmcserver/Home/Public/" target="_blank" rel="noopener">http://www.testmmc.top/mmcserver/Home/Public/</a></p><p>####2.1 注册用户</p><h2 id="方法名-checkRegister"><a href="#方法名-checkRegister" class="headerlink" title="######方法名:checkRegister"></a>######方法名:checkRegister</h2><h2 id="请求方式-POST"><a href="#请求方式-POST" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|code|string|是|30|验证码|1234|<br>|username|string|是|30|用户名|mmc123456|<br>|password|string|是|30|md5加密后的密码|<strong><strong>***</strong></strong>|</p><h2 id="phone-number-string-是-手机号-15123114251"><a href="#phone-number-string-是-手机号-15123114251" class="headerlink" title="|phone_number|string|是||手机号|15123114251|"></a>|phone_number|string|是||手机号|15123114251|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|注册成功|<br>|1|验证码错误|<br>|2|用户名已经存在|<br>|3|手机号已存在|</p><p>####2.2 登录</p><h2 id="方法名-checkLogin"><a href="#方法名-checkLogin" class="headerlink" title="######方法名:checkLogin"></a>######方法名:checkLogin</h2><h2 id="请求方式-POST-1"><a href="#请求方式-POST-1" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|code|string|是|30|验证码|1234|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="password-string-是-30-md5加密后的密码"><a href="#password-string-是-30-md5加密后的密码" class="headerlink" title="|password|string|是|30|md5加密后的密码|***|"></a>|password|string|是|30|md5加密后的密码|<strong><strong>***</strong></strong>|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|登录成功|<br>|1|验证码错误|<br>|2|用户名不存在|</p><h2 id="3-密码错误"><a href="#3-密码错误" class="headerlink" title="|3|密码错误|"></a>|3|密码错误|</h2><p>####2.3 获取短信验证码</p><h2 id="方法名-getCode"><a href="#方法名-getCode" class="headerlink" title="######方法名:getCode"></a>######方法名:getCode</h2><h2 id="请求方式-POST-2"><a href="#请求方式-POST-2" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="phone-number-string-是-手机号"><a href="#phone-number-string-是-手机号" class="headerlink" title="|phone_number|string|是||手机号||"></a>|phone_number|string|是||手机号||</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|短信发送成功|<br>|1|发送失败，手机号错误|<br>|2|发送失败，触发流控，1分钟只能发一条|</p><h2 id="3-发送失败，请重试！"><a href="#3-发送失败，请重试！" class="headerlink" title="|3|发送失败，请重试！|"></a>|3|发送失败，请重试！|</h2><p>####2.4 验证身份</p><h2 id="方法名-checkId"><a href="#方法名-checkId" class="headerlink" title="######方法名:checkId"></a>######方法名:checkId</h2><h2 id="请求方式-POST-3"><a href="#请求方式-POST-3" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|phone_number|string|是||手机号||</p><h2 id="code-string-是-验证码"><a href="#code-string-是-验证码" class="headerlink" title="|code|string|是||验证码||"></a>|code|string|是||验证码||</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><h2 id="message-string-消息提示-1"><a href="#message-string-消息提示-1" class="headerlink" title="|message|string|消息提示|"></a>|message|string|消息提示|</h2><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|验证通过|<br>|1|验证码错误|<br>|2|手机号未注册|</p><hr><p>####2.5 更新密码</p><h2 id="方法名-updatePassword"><a href="#方法名-updatePassword" class="headerlink" title="######方法名:updatePassword"></a>######方法名:updatePassword</h2><h2 id="请求方式-POST-4"><a href="#请求方式-POST-4" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|phone_number|string|是||手机号||<br>|password|string|是||md5加密之后的新密码||</p><hr><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|密码更新成功|<br>|1|身份未验证|<br>|2|手机号未注册|<br>|3|更新失败|</p><hr><p>####2.6 注销</p><h2 id="方法名-logout"><a href="#方法名-logout" class="headerlink" title="######方法名:logout"></a>######方法名:logout</h2><h2 id="请求方式-GET"><a href="#请求方式-GET" class="headerlink" title="######请求方式:GET"></a>######请求方式:GET</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是||用户名||</p><hr><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|退出成功|</p><hr><p>####2.7 判断是否已经登录</p><h2 id="方法名-login"><a href="#方法名-login" class="headerlink" title="######方法名:login"></a>######方法名:login</h2><h2 id="请求方式-POST-5"><a href="#请求方式-POST-5" class="headerlink" title="######请求方式:POST"></a>######请求方式:POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是||用户名||</p><hr><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|用户已经登录过|</p><h2 id="0-用户未登录"><a href="#0-用户未登录" class="headerlink" title="|0|用户未登录|"></a>|0|用户未登录|</h2><p>##3. 消息管理接口：<br>    请求地址：<a href="http://www.testmmc.top/mmcserver/Home/Message/" target="_blank" rel="noopener">http://www.testmmc.top/mmcserver/Home/Message/</a></p><p>####3.1 查询当前用户的消息列表，未读消息排在前面</p><h2 id="方法名-getMessageList"><a href="#方法名-getMessageList" class="headerlink" title="######方法名:getMessageList"></a>######方法名:getMessageList</h2><h2 id="请求方式-GET-1"><a href="#请求方式-GET-1" class="headerlink" title="######请求方式:GET"></a>######请求方式:GET</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|language|int|是||语言|0|<br>|username|string|是|30|用户名|mmc123456|</p><p>######language参数说明<br>|language|描述|<br>|:—:|:—:|<br>|0|中文|</p><h2 id="1-英文"><a href="#1-英文" class="headerlink" title="|1|英文|"></a>|1|英文|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|msg_id|int|消息id|<br>|msg_content_english |string|消息内容英文|<br>|msg_content_chinese |string|消息内容中文|<br>|msg_state |bool|消息状态|<br>|date |string|日期|<br>|time |string|时间|</p><p>######msg_state参数说明<br>|msg_state|描述|<br>|:—:|:—:|<br>|0|未读|</p><h2 id="1-已读"><a href="#1-已读" class="headerlink" title="|1|已读|"></a>|1|已读|</h2><p>####3.2 根据消息id,查询单条消息内容</p><h2 id="方法名-getOneMessage"><a href="#方法名-getOneMessage" class="headerlink" title="######方法名:getOneMessage"></a>######方法名:getOneMessage</h2><h2 id="请求方式-GET-2"><a href="#请求方式-GET-2" class="headerlink" title="######请求方式:GET"></a>######请求方式:GET</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|language|int|是||语言|0|<br>|username|string|是|30|用户名|mmc123456|<br>|msg_id|int|是||消息id||</p><p>######language参数说明<br>|language|描述|<br>|:—:|:—:|<br>|0|中文|<br>|1|英文|</p><p>######响应参数：同getMessageList一致，不过只有单条消息</p><hr><p>###3.3 将单条消息状态置为已读</p><h2 id="方法名-setOneMessage"><a href="#方法名-setOneMessage" class="headerlink" title="######方法名:setOneMessage"></a>######方法名:setOneMessage</h2><h2 id="请求方式：GET-2"><a href="#请求方式：GET-2" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|<br>|msg_id|int|是||消息id||</p><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><p>######msg_state参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|更新成功|</p><hr><p>####3.4 将所有消息状态置为已读</p><h2 id="方法名-setOneMessage-1"><a href="#方法名-setOneMessage-1" class="headerlink" title="######方法名:setOneMessage"></a>######方法名:setOneMessage</h2><h2 id="请求方式：GET-3"><a href="#请求方式：GET-3" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-1"><a href="#username-string-是-30-用户名-mmc123456-1" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><p>######msg_state参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|更新成功|</p><hr><p>####3.5 将批量消息置为已读</p><h2 id="方法名-setMessage"><a href="#方法名-setMessage" class="headerlink" title="######方法名:setMessage"></a>######方法名:setMessage</h2><h2 id="请求方式：POST-2"><a href="#请求方式：POST-2" class="headerlink" title="######请求方式：POST"></a>######请求方式：POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="msg-id-list-int-array-是-消息id列表"><a href="#msg-id-list-int-array-是-消息id列表" class="headerlink" title="|msg_id_list|int array|是||消息id列表||"></a>|msg_id_list|int array|是||消息id列表||</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><p>######msg_state参数说明<br>|status|描述|<br>|:—:|:—:|</p><h2 id="100-更新成功"><a href="#100-更新成功" class="headerlink" title="|100|更新成功|"></a>|100|更新成功|</h2><p>####3.6 批量删除消息</p><h2 id="方法名-delMessage"><a href="#方法名-delMessage" class="headerlink" title="######方法名:delMessage"></a>######方法名:delMessage</h2><h2 id="请求方式：POST-3"><a href="#请求方式：POST-3" class="headerlink" title="######请求方式：POST"></a>######请求方式：POST</h2><p>######请求参数：<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="msg-id-list-int-array-是-消息id列表-1"><a href="#msg-id-list-int-array-是-消息id列表-1" class="headerlink" title="|msg_id_list|int array|是||消息id列表||"></a>|msg_id_list|int array|是||消息id列表||</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|</p><p>######msg_state参数说明<br>|status|描述|<br>|:—:|:—:|</p><h2 id="100-删除成功"><a href="#100-删除成功" class="headerlink" title="|100|删除成功|"></a>|100|删除成功|</h2><p>##4. 无人机数据查询接口<br>    请求地址：<a href="http://www.testmmc.top/mmcserver/Home/Aircraft/" target="_blank" rel="noopener">http://www.testmmc.top/mmcserver/Home/Aircraft/</a></p><p>####4.1 查询无人机列表</p><h2 id="方法名：getListByUser"><a href="#方法名：getListByUser" class="headerlink" title="######方法名：getListByUser"></a>######方法名：getListByUser</h2><h2 id="请求方式：GET-4"><a href="#请求方式：GET-4" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-2"><a href="#username-string-是-30-用户名-mmc123456-2" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串</p><pre><code>{    &quot;username&quot;:&quot;admin&quot;,     #用户名    &quot;user_image&quot;:&quot;http://www.testmmc.top/mmcserver/Public/user_image/mmc.png&quot;,  #用户图像    &quot;aircraft_list&quot;: {                &quot;MMC001&quot;: {            &quot;ground_serial&quot;: &quot;MMC001&quot;,    #地面站序列号            &quot;uav_type&quot; :&quot;MC6-1550&quot;,       #无人机型号            &quot;ground_state&quot;: &quot;1&quot;,          #地面站状态，0为离线，1为在线，2为维修中            &quot;camera_state&quot;: &quot;1&quot;           #视频流状态，0为无，1为有         },        &quot;MMC002&quot;: {            &quot;ground_serial&quot;: &quot;MMC002&quot;,            &quot;uav_type&quot; :&quot;MC6-1550&quot;,            &quot;ground_state&quot;: &quot;0&quot;,            &quot;camera_state&quot;: &quot;0&quot;        }    }}</code></pre><hr><p>####4.2  查询无人机设备基本信息</p><h2 id="方法名：getDeviceInfo"><a href="#方法名：getDeviceInfo" class="headerlink" title="######方法名：getDeviceInfo"></a>######方法名：getDeviceInfo</h2><h2 id="请求方式：GET-5"><a href="#请求方式：GET-5" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006"><a href="#ground-serial-string-是-地面站序列号-MMC006" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    {<br>        ground_serial: “MMC001”,                           地面站序列号<br>        uav_type: “MC6-1550”,                              无人机型号统一代号<br>        uav_name: “1550系多旋翼无人机”,                      无人机型号中文名<br>        company: “深圳市科比特航空科技有限公司”,           设备生产商<br>        uav_kind: 6,                                      旋翼类型,六旋翼</p><pre><code>}</code></pre><hr><p>####4.3 查询单架无人机的数据</p><h2 id="方法名：getDataBySerial"><a href="#方法名：getDataBySerial" class="headerlink" title="######方法名：getDataBySerial"></a>######方法名：getDataBySerial</h2><h2 id="请求方式：GET-6"><a href="#请求方式：GET-6" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-1"><a href="#ground-serial-string-是-地面站序列号-MMC006-1" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串</p><pre><code>{    &quot;ground_serial&quot;: &quot;MMC001&quot;,                                             地面站序列号    &quot;uav_type&quot;: &quot;MC6-1200&quot;,                                                无人机型号    &quot;mount_type&quot;: &quot;20倍变焦&quot;,                                            挂载类型    &quot;longitude&quot;: 0,                                                        经度    &quot;latitude&quot;: 0,                                                         纬度    &quot;height&quot;: &quot;27.04&quot;,                                                     相对高度    &quot;speed&quot;: &quot;0&quot;,                                                          速度    &quot;climb_rate&quot;: &quot;0&quot;,                                                     爬升率    &quot;voltage&quot;: &quot;0.16&quot;,                                                     电池电压    &quot;distance_to_home&quot;: &quot;0&quot;,                                               离Home点距离    &quot;rtmp_url&quot;: &quot;rtmp://47.104.31.20:9000/live/test&quot;,                    视频流地址    &quot;time&quot;: &quot;02:10:01&quot;                                                     无人机数据上传时间}</code></pre><hr><p>####4.4 查询单架无人机视频流地址</p><h2 id="方法名：getVideoBySerial"><a href="#方法名：getVideoBySerial" class="headerlink" title="######方法名：getVideoBySerial"></a>######方法名：getVideoBySerial</h2><h2 id="请求方式：GET-7"><a href="#请求方式：GET-7" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-2"><a href="#ground-serial-string-是-地面站序列号-MMC006-2" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    {<br>        “ground_serial”: “MMC001”, 地面站序列号<br>        “rtmp_url”: “”,            视频流地址<br>        “video_type”: “rtmp/flv”   视频流类型，默认为rtmp/flv<br>    }</p><hr><p>####4.5 查询单架无人机经纬度坐标</p><h2 id="方法名：getPositionBySerial"><a href="#方法名：getPositionBySerial" class="headerlink" title="######方法名：getPositionBySerial"></a>######方法名：getPositionBySerial</h2><h2 id="请求方式：GET-8"><a href="#请求方式：GET-8" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-3"><a href="#ground-serial-string-是-地面站序列号-MMC006-3" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    {<br>        “ground_serial”: “MMC001”, 地面站序列号<br>        “uav_type”: “MC6-1200”,  无人机型号<br>        “longitude”: 0,      经度<br>        “latitude”: 0        纬度<br>    }</p><hr><p>####4.6 查询各个状态的无人机总数</p><h2 id="方法名：getUavCount"><a href="#方法名：getUavCount" class="headerlink" title="######方法名：getUavCount"></a>######方法名：getUavCount</h2><h2 id="请求方式：GET-9"><a href="#请求方式：GET-9" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-3"><a href="#username-string-是-30-用户名-mmc123456-3" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “uav_count”:20       管理无人机总数<br>        “running_count”: 13, 运行中数目<br>        “resting_count”: 5,  休息中数目<br>        “repairing_count”: 2  维修中数目<br>    }</p><hr><p>####4.7 查询用户信息</p><h2 id="方法名：getUserInfo"><a href="#方法名：getUserInfo" class="headerlink" title="######方法名：getUserInfo"></a>######方法名：getUserInfo</h2><h2 id="请求方式：GET-10"><a href="#请求方式：GET-10" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-4"><a href="#username-string-是-30-用户名-mmc123456-4" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:mmc123456<br>        “user_image”:”<a href="http://www.testmmc.top/mmcserver/Public/user_image/mmc.png&quot;" target="_blank" rel="noopener">http://www.testmmc.top/mmcserver/Public/user_image/mmc.png&quot;</a>,  用户图像<br>        “last_login_time”: “2018-04-10”,     上次登录时间<br>        “last_login_ip”: “127.0.0.1”,        上次登录ip<br>        “login_count”:500,                   累计登录总次数<br>        “today_login_count”:10               今日登录次数<br>    }</p><hr><p>####4.8 添加无人机</p><h2 id="方法名：addUav"><a href="#方法名：addUav" class="headerlink" title="######方法名：addUav"></a>######方法名：addUav</h2><h2 id="请求方式：GET-11"><a href="#请求方式：GET-11" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="ground-serial-string-是-地面站序列号-MMC0000001"><a href="#ground-serial-string-是-地面站序列号-MMC0000001" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC0000001|"></a>|ground_serial|string|是||地面站序列号|MMC0000001|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status参数说明<br>|status|描述|<br>|:—:|:—:|<br>|100|添加成功|<br>|1|添加失败，没有权限|</p><h2 id="2-添加失败，地面站序列号错误"><a href="#2-添加失败，地面站序列号错误" class="headerlink" title="|2|添加失败，地面站序列号错误"></a>|2|添加失败，地面站序列号错误</h2><p>####4.9 删除无人机</p><h2 id="方法名：addUav-1"><a href="#方法名：addUav-1" class="headerlink" title="######方法名：addUav"></a>######方法名：addUav</h2><h2 id="请求方式：GET-12"><a href="#请求方式：GET-12" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="ground-serial-string-是-地面站序列号-MMC0000001-1"><a href="#ground-serial-string-是-地面站序列号-MMC0000001-1" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC0000001|"></a>|ground_serial|string|是||地面站序列号|MMC0000001|</h2><p>######响应参数：<br>|参数|类型|描述|<br>|:—:|:—:|:—:|<br>|status|int|消息号|<br>|message|string|消息提示|</p><p>######status值说明<br>|status|描述|<br>|:—:|:—:|<br>|100|删除成功|<br>|1|删除失败，没有权限|</p><h2 id="2-删除失败，地面站序列号错误"><a href="#2-删除失败，地面站序列号错误" class="headerlink" title="|2|删除失败，地面站序列号错误"></a>|2|删除失败，地面站序列号错误</h2><p>####4.10 查询在线(运行中)无人机列表</p><h2 id="方法名：getRunningListByUser"><a href="#方法名：getRunningListByUser" class="headerlink" title="######方法名：getRunningListByUser"></a>######方法名：getRunningListByUser</h2><h2 id="请求方式：GET-13"><a href="#请求方式：GET-13" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-5"><a href="#username-string-是-30-用户名-mmc123456-5" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #添加人用户名<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456<br>            }<br>        }<br>    }</p><hr><p>####4.11 查询离线(休息中)无人机列表</p><h2 id="方法名：getRestingListByUser"><a href="#方法名：getRestingListByUser" class="headerlink" title="######方法名：getRestingListByUser"></a>######方法名：getRestingListByUser</h2><h2 id="请求方式：GET-14"><a href="#请求方式：GET-14" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-6"><a href="#username-string-是-30-用户名-mmc123456-6" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #添加人用户名<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #<br>            }<br>        }<br>    }</p><hr><p>####4.12 查询维修中无人机列表</p><h2 id="方法名：getRestingListByUser-1"><a href="#方法名：getRestingListByUser-1" class="headerlink" title="######方法名：getRestingListByUser"></a>######方法名：getRestingListByUser</h2><h2 id="请求方式：GET-15"><a href="#请求方式：GET-15" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-7"><a href="#username-string-是-30-用户名-mmc123456-7" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #添加人用户名<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #<br>            }<br>        }<br>    }</p><hr><p>####4.13 查询回收站中无人机列表</p><h2 id="方法名：getRecycledListByUser"><a href="#方法名：getRecycledListByUser" class="headerlink" title="######方法名：getRecycledListByUser"></a>######方法名：getRecycledListByUser</h2><h2 id="请求方式：GET-16"><a href="#请求方式：GET-16" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="username-string-是-30-用户名-mmc123456-8"><a href="#username-string-是-30-用户名-mmc123456-8" class="headerlink" title="|username|string|是|30|用户名|mmc123456|"></a>|username|string|是|30|用户名|mmc123456|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #添加人用户名<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,                #地面站序列号<br>                “uav_type” :”MC6-1550”,                   #无人机型号<br>                “uav_name”: “1550系多旋翼无人机”,          #无人机型号对应中文名<br>                “mount_type”: “20倍变焦”,                 #挂载名称<br>                “add_time”:”2018-04-10”                  #添加时间<br>                “username”：mmc123456                    #<br>            }<br>        }<br>    }</p><hr><p>####4.14 根据无人机型号筛选无人机列表</p><h2 id="方法名：getListByUavType"><a href="#方法名：getListByUavType" class="headerlink" title="######方法名：getListByUavType"></a>######方法名：getListByUavType</h2><h2 id="请求方式：GET-17"><a href="#请求方式：GET-17" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="uav-type-string-是-无人机型号-MC6-1550"><a href="#uav-type-string-是-无人机型号-MC6-1550" class="headerlink" title="|uav_type|string|是||无人机型号|MC6-1550|"></a>|uav_type|string|是||无人机型号|MC6-1550|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC001”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            }<br>        }</p><pre><code>}</code></pre><hr><p>####4.15 根据无人机状态筛选无人机列表</p><h2 id="方法名：getListByGroundState"><a href="#方法名：getListByGroundState" class="headerlink" title="######方法名：getListByGroundState"></a>######方法名：getListByGroundState</h2><h2 id="请求方式：GET-18"><a href="#请求方式：GET-18" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="ground-state-string-是-地面站状态-1"><a href="#ground-state-string-是-地面站状态-1" class="headerlink" title="|ground_state|string|是||地面站状态|1|"></a>|ground_state|string|是||地面站状态|1|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            }<br>        }<br>    }</p><hr><p>####4.16 根据挂载类型筛选无人机列表</p><h2 id="方法名：getListByMountType"><a href="#方法名：getListByMountType" class="headerlink" title="######方法名：getListByMountType"></a>######方法名：getListByMountType</h2><h2 id="请求方式：GET-19"><a href="#请求方式：GET-19" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|username|string|是|30|用户名|mmc123456|</p><h2 id="mount-type-string-是-挂载类型-1"><a href="#mount-type-string-是-挂载类型-1" class="headerlink" title="|mount_type|string|是||挂载类型|1|"></a>|mount_type|string|是||挂载类型|1|</h2><p>######响应参数：json字符串<br>    {<br>        “username”:”mmc123456”,     #用户名<br>        “aircraft_list”: {<br>            “MMC001”: {<br>                “ground_serial”: “MMC001”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            },<br>            “MMC002”: {<br>                “ground_serial”: “MMC002”,    #地面站序列号<br>                “uav_type” :”MC6-1550”,       #无人机型号<br>                “ground_state”: “1”,          #地面站状态，0为离线，1为在线,2为维修中<br>                “camera_state”: “1”           #视频流状态，0为无，1为有<br>            }<br>        }</p><pre><code>}</code></pre><hr><p>##5. 无人机历史查询与统计接口：</p><pre><code>请求地址：http://www.testmmc.top/mmcserver/Home/History/</code></pre><hr><p>####5.1 查询当天历史航迹</p><h2 id="方法名：getTodayPosition"><a href="#方法名：getTodayPosition" class="headerlink" title="######方法名：getTodayPosition"></a>######方法名：getTodayPosition</h2><h2 id="请求方式：GET-20"><a href="#请求方式：GET-20" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-4"><a href="#ground-serial-string-是-地面站序列号-MMC006-4" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    {<br>        “ground_serial”: “MMC001”,<br>        “position”: [<br>            {<br>                “longitude”: “0.00000000”,<br>                “latitude”: “0.00000000”<br>            },<br>            {<br>                “longitude”: “0.00000000”,<br>                “latitude”: “0.00000000”<br>            }<br>        ]<br>    }</p><hr><p>####5.2 查询历史某一天的航迹</p><h2 id="方法名：getHistoryPosition"><a href="#方法名：getHistoryPosition" class="headerlink" title="######方法名：getHistoryPosition"></a>######方法名：getHistoryPosition</h2><h2 id="请求方式：GET-21"><a href="#请求方式：GET-21" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|ground_serial|string|是||地面站序列号|MMC006|</p><h2 id="date-string-是-日期-2018-04-10"><a href="#date-string-是-日期-2018-04-10" class="headerlink" title="|date|string|是||日期|2018-04-10|"></a>|date|string|是||日期|2018-04-10|</h2><h2 id="响应参数：json字符串，同getTodayPosition"><a href="#响应参数：json字符串，同getTodayPosition" class="headerlink" title="######响应参数：json字符串，同getTodayPosition"></a>######响应参数：json字符串，同getTodayPosition</h2><p>####5.3 查询当天视频点播地址</p><h2 id="方法名：getTodayVideo"><a href="#方法名：getTodayVideo" class="headerlink" title="######方法名：getTodayVideo"></a>######方法名：getTodayVideo</h2><h2 id="请求方式：GET-22"><a href="#请求方式：GET-22" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-5"><a href="#ground-serial-string-是-地面站序列号-MMC006-5" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    {<br>        “ground_serial”: “MMC001”,<br>        “video_url”: “rtmp://<a href="http://www.testmmc.top:9000/vod/MMC001-2018-3-28.flv&quot;" target="_blank" rel="noopener">www.testmmc.top:9000/vod/MMC001-2018-3-28.flv&quot;</a>,  点播地址<br>        “video_type”: “rtmp/flv”</p><pre><code>}</code></pre><hr><p>####5.4 查查询历史某一天的视频点播地址</p><h2 id="方法名：getHistoryVideo"><a href="#方法名：getHistoryVideo" class="headerlink" title="######方法名：getHistoryVideo"></a>######方法名：getHistoryVideo</h2><h2 id="请求方式：GET-23"><a href="#请求方式：GET-23" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|ground_serial|string|是||地面站序列号|MMC006|</p><h2 id="date-string-是-日期-2018-04-10-1"><a href="#date-string-是-日期-2018-04-10-1" class="headerlink" title="|date|string|是||日期|2018-04-10|"></a>|date|string|是||日期|2018-04-10|</h2><p>######响应参数：json字符串，同getTodayVideo</p><hr><p>####5.5 查询某一架无人机录制的视频列表</p><h2 id="方法名：getHistoryVideoList"><a href="#方法名：getHistoryVideoList" class="headerlink" title="######方法名：getHistoryVideoList"></a>######方法名：getHistoryVideoList</h2><h2 id="请求方式：GET-24"><a href="#请求方式：GET-24" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|</p><h2 id="ground-serial-string-是-地面站序列号-MMC006-6"><a href="#ground-serial-string-是-地面站序列号-MMC006-6" class="headerlink" title="|ground_serial|string|是||地面站序列号|MMC006|"></a>|ground_serial|string|是||地面站序列号|MMC006|</h2><p>######响应参数：json字符串<br>    [<br>        rtmp://<a href="http://www.testmmc.top:9000/vod/MMC001-2018-3-20.flv" target="_blank" rel="noopener">www.testmmc.top:9000/vod/MMC001-2018-3-20.flv</a>,<br>        rtmp://<a href="http://www.testmmc.top:9000/vod/MMC001-2018-3-21.flv" target="_blank" rel="noopener">www.testmmc.top:9000/vod/MMC001-2018-3-21.flv</a>,<br>        rtmp://<a href="http://www.testmmc.top:9000/vod/MMC001-2018-3-22.flv" target="_blank" rel="noopener">www.testmmc.top:9000/vod/MMC001-2018-3-22.flv</a><br>    ]</p><hr><p>####5.6 统计某一天，某一架无人机的最大数据</p><h2 id="方法名：getBiggestData"><a href="#方法名：getBiggestData" class="headerlink" title="######方法名：getBiggestData"></a>######方法名：getBiggestData</h2><h2 id="请求方式：GET-25"><a href="#请求方式：GET-25" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|ground_serial|string|是||地面站序列号|MMC006|</p><h2 id="date-string-是-日期-2018-04-10-2"><a href="#date-string-是-日期-2018-04-10-2" class="headerlink" title="|date|string|是||日期|2018-04-10|"></a>|date|string|是||日期|2018-04-10|</h2><p>######响应参数：json字符串<br>    {<br>         “biggestSpeed”: 3,<br>         “biggestHeight”: 50,<br>         “biggestDistance”:8000,<br>         “biggestClimbRate”:3.5,<br>    }</p><hr><p>####5.7 导出某一天某一架无人机的数据</p><h2 id="方法名：getCsvData"><a href="#方法名：getCsvData" class="headerlink" title="######方法名：getCsvData"></a>######方法名：getCsvData</h2><h2 id="请求方式：GET-26"><a href="#请求方式：GET-26" class="headerlink" title="######请求方式：GET"></a>######请求方式：GET</h2><p>######请求参数<br>|参数|类型|是否必填|最大长度|描述|示例值|<br>|:—:|:—:|:—:|<br>|ground_serial|string|是||地面站序列号|MMC006|</p><h2 id="date-string-是-日期-2018-04-10-3"><a href="#date-string-是-日期-2018-04-10-3" class="headerlink" title="|date|string|是||日期|2018-04-10|"></a>|date|string|是||日期|2018-04-10|</h2><p>######响应参数：csv文件</p>]]></content>
      
      <categories>
          
          <category> API </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Shop API</title>
      <link href="/2018/04/02/ShopApi/"/>
      <url>/2018/04/02/ShopApi/</url>
      <content type="html"><![CDATA[<h1 id="常用地址访问"><a href="#常用地址访问" class="headerlink" title="常用地址访问"></a>常用地址访问</h1><blockquote><p><a href="http://192.168.4.223/mshop/" target="_blank" rel="noopener">本地商城前端访问地址</a><br><a href="http://192.168.4.223/mshop/admin" target="_blank" rel="noopener">本地商城后台访问地址</a></p></blockquote><blockquote><p><a href="http://www.testmmc.top/mshop/" target="_blank" rel="noopener">阿里云商城前台访问地址</a><br><a href="http://www.testmmc.top/mshop/admin/" target="_blank" rel="noopener">阿里云商城后台访问地址</a></p></blockquote><p>[TOC]</p><blockquote><p>科比特商城系统API接口</p></blockquote><h1 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h1><p><em>URL</em>: 192.168.4.232/mmcshop</p><h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><blockquote><p>控制器：PublicController.class.php</p></blockquote><h3 id="checkLogin"><a href="#checkLogin" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote><p>HOST:<em>URL</em>/admin/public/checkLogin</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure><h3 id="验证登录"><a href="#验证登录" class="headerlink" title="验证登录"></a>验证登录</h3><blockquote><p>HOST:<em>URL</em>/admin/public/verifyLogin</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure><h3 id="login"><a href="#login" class="headerlink" title="login"></a>login</h3><blockquote><p>HOST:<em>URL</em>/admin/public/login</p></blockquote><h2 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h2><blockquote><p>HOST:<em>URL</em>/admin/public/logOut</p></blockquote><h2 id="商品种类列表"><a href="#商品种类列表" class="headerlink" title="商品种类列表"></a>商品种类列表</h2><h3 id="添加商品分类"><a href="#添加商品分类" class="headerlink" title="添加商品分类"></a>添加商品分类</h3><blockquote><p>权限：admin_priv(‘cat_manage’);<br>HOST:<em>URL</em>/admin/category/addCategory</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：自增ID</span><br><span class="line">parent_id ：分类的父ID，取值于该表的cat_id字段</span><br><span class="line">sort_order：该分类在页面显示的顺序，数字越大顺序越靠后；同数字，id在前的先显示</span><br><span class="line">keywords：分类的关键字，是为了搜索</span><br><span class="line">cat_desc：分类描述</span><br><span class="line">measure_unit：该分类的计量单位</span><br><span class="line">cat_name：分类名称</span><br><span class="line">show_in_nav：是否显示在导航栏。0：不显示；1：显示在导航栏</span><br><span class="line">is_show：是否在前台页面显示，1，显示；0，不显示</span><br><span class="line">grade：该分类的最高和最低价之间的价格分级，当大于1 时，会根据最大最小价格区间分成区间，会在页面显示价格范围，如0-300,300-600,600-900这种</span><br><span class="line"></span><br><span class="line">取消字段：</span><br><span class="line">//style：该分类的单独的样式表的包括文件名部分的文件路径 </span><br><span class="line">//filter_attr：如果该字段有值，则该分类将还会按照该值对应在表goods_attr的goods_attr_id所对应的属性筛选，如，封面颜色下有红，黑分类筛选</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure><h3 id="提交更新商品分类信息"><a href="#提交更新商品分类信息" class="headerlink" title="提交更新商品分类信息"></a>提交更新商品分类信息</h3><blockquote><p>权限 :admin_priv(‘cat_manage’);<br>Table: catgory,cat_recommend<br>HOST:<em>URL</em>/admin/category/updateCategory</p><ul><li>请求方式：POST</li></ul></blockquote><ul><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">old_cat_name</span><br><span class="line">parent_id</span><br><span class="line">sort_order</span><br><span class="line">keywords</span><br><span class="line">cat_desc</span><br><span class="line">measure_unit</span><br><span class="line">cat_name</span><br><span class="line">is_show</span><br><span class="line">show_in_nav</span><br><span class="line">grade</span><br><span class="line"></span><br><span class="line">cat_recommend     精品：1  最新：2  热门：3      //Table：cat_recommend</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. cat_name 已经存在</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类已经存在，请直接编辑分类！&apos;;</span><br><span class="line">2. cat_name 为空</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;该分类为空，请填写后提交！&apos;;</span><br><span class="line">3. grade 不在区间[0,10]</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br><span class="line"></span><br><span class="line">4. addCategory 上传成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;cat add succed!&apos;;</span><br><span class="line">5. addCategory 上传失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;cat add Error!&apos;;</span><br></pre></td></tr></table></figure><h3 id="删除商品分类信息"><a href="#删除商品分类信息" class="headerlink" title="删除商品分类信息"></a>删除商品分类信息</h3><blockquote><p>HOST:<em>URL</em>/admin/category/removeCategory</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 当删除的分类下面有产品时，禁止删除操作</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;不是末级分类或者此分类下还存在有商品,您不能删除!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品分类删除成功&apos;;</span><br></pre></td></tr></table></figure><h3 id="上级分类-parent-id"><a href="#上级分类-parent-id" class="headerlink" title="上级分类 parent_id"></a>上级分类 parent_id</h3><blockquote><p>HOST:<em>URL</em>/admin/category/catParentIdMenu</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参数</span><br></pre></td></tr></table></figure><ul><li>返回值<br>默认加上0：顶级分类</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id ：分类ID&gt;=1</span><br><span class="line">cat_name ：分类名字</span><br></pre></td></tr></table></figure><ul><li>选择后前端取cat_id值，传输给parent_id</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parent_id = cat_id</span><br></pre></td></tr></table></figure><h3 id="编辑商品分类"><a href="#编辑商品分类" class="headerlink" title="编辑商品分类"></a>编辑商品分类</h3><blockquote><p>HOST：<em>URL</em>/admin/category/editCategory</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;cat_info&quot;: &#123;</span><br><span class="line">        &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;cat_name&quot;: &quot;图传&quot;,</span><br><span class="line">        &quot;keywords&quot;: &quot;&quot;,</span><br><span class="line">        &quot;cat_desc&quot;: &quot;&quot;,</span><br><span class="line">        &quot;parent_id&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;sort_order&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;template_file&quot;: &quot;&quot;,</span><br><span class="line">        &quot;measure_unit&quot;: &quot;个&quot;,</span><br><span class="line">        &quot;show_in_nav&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;style&quot;: &quot;&quot;,</span><br><span class="line">        &quot;is_show&quot;: &quot;0&quot;,</span><br><span class="line">        &quot;grade&quot;: &quot;5&quot;,</span><br><span class="line">        &quot;filter_attr&quot;: &quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;cat_recommend&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;1&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;cat_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;recommend_type&quot;: &quot;2&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取商品分类列表"><a href="#获取商品分类列表" class="headerlink" title="获取商品分类列表"></a>获取商品分类列表</h3><blockquote><p>HOST：<em>URL</em>/admin/category/listCategory</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat_id,</span><br><span class="line">cat_name,</span><br><span class="line">measure_unit,</span><br><span class="line">is_show,</span><br><span class="line">show_in_nav,</span><br><span class="line">grade,</span><br><span class="line">sort_order</span><br></pre></td></tr></table></figure><p>注：缺少商品数量，此项参数，后续再处理。</p><h3 id="获取商品分类菜单"><a href="#获取商品分类菜单" class="headerlink" title="获取商品分类菜单"></a>获取商品分类菜单</h3><blockquote><p>HOST：<em>URL</em>/admin/category/menuCategory</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无参</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat_id,</span><br><span class="line">cat_name,</span><br><span class="line">parent_id</span><br></pre></td></tr></table></figure><h3 id="数量单位在线修改"><a href="#数量单位在线修改" class="headerlink" title="数量单位在线修改"></a>数量单位在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/category/measureUnitChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">measure_unit</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="导航栏在线修改"><a href="#导航栏在线修改" class="headerlink" title="导航栏在线修改"></a>导航栏在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/category/isShowChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,is_show</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="是否显示在线修改"><a href="#是否显示在线修改" class="headerlink" title="是否显示在线修改"></a>是否显示在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/category/showInNavChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,show_in_nav</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="价格分级在线修改"><a href="#价格分级在线修改" class="headerlink" title="价格分级在线修改"></a>价格分级在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/category/gradeChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">grade   取值范围[0,10]</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">$message = &apos;价格区间超出范围!&apos;;</span><br></pre></td></tr></table></figure><h3 id="排序在线修改"><a href="#排序在线修改" class="headerlink" title="排序在线修改"></a>排序在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/category/sortOrderChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id,sort_order</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><p>[TOC]</p><h2 id="商品管理"><a href="#商品管理" class="headerlink" title="商品管理"></a>商品管理</h2><h3 id="商品基本信息说明"><a href="#商品基本信息说明" class="headerlink" title="商品基本信息说明"></a>商品基本信息说明</h3><p>主要数据表介绍：</p><ul><li>mmc_goods：商品的基本信息表</li><li>mmc_goods_attr：存储商品的属性信息</li><li>mmc_goods_type：存储商品扩展分类，选择商品的所属类型，进而完善此商品的属性</li><li>mmc_attribute:存储扩展分类，详细属性列表，value在mmc_goods_attr中存储</li><li>mmc_brand：商品品牌，目前只是写入了科比特品牌，未来可能有其他品牌列入</li></ul><h4 id="通用信息"><a href="#通用信息" class="headerlink" title="通用信息"></a>通用信息</h4><ul><li>商品名称:goods_name</li><li>mmc_goods</li><li>商品货号:goods_sn</li><li>商品分类:cat_id<br>  mmc_catgory<br>  HOST：<em>URL</em>/admin/category/menuCategory</li><li><a href="扩展分类">扩展分类del</a></li><li>商品品牌:brand_id<br>  mmc_brand<br>  HOST：<em>URL</em>/admin/brand/menuBrand</li><li>本店售价：shop_price</li><li>市场售价：market_price</li><li>上传商品图片:goods_img</li><li>上传商品缩略图：goods_thumb</li></ul><h4 id="详细描述"><a href="#详细描述" class="headerlink" title="详细描述"></a>详细描述</h4><ul><li>详细描述：goods_desc</li></ul><h4 id="其他信息"><a href="#其他信息" class="headerlink" title="其他信息"></a>其他信息</h4><ul><li>商品重量：goods_weight      两位小数</li><li>商品库存数量：goods_number</li><li><a href="库存警告数量：warn_number">库存警告数量del</a></li><li><p>加入推荐：<br>  精品：is_best<br>  新品：is_new<br>  热销：is_hot     </p></li><li><p><a href="is_alone_sale">能作为普通商品销售del</a></p></li><li><p><a href="is_shipping">是否为免运费商品del</a></p></li><li><p>上架:is_on_sale</p></li><li>商品关键词：keywords</li><li>商品简单描述: goods_brief</li><li>商家备注：seller_note</li></ul><h4 id="商品属性"><a href="#商品属性" class="headerlink" title="商品属性"></a>商品属性</h4><blockquote><p>列表选择商品的所属类型</p><ul><li>商品类型：goods_type<br>  mmc_goods_type<br>  HOST：<em>URL</em>/admin/goodstype/menuGoodstype</li></ul></blockquote><h4 id="商品相册"><a href="#商品相册" class="headerlink" title="商品相册"></a>商品相册</h4><blockquote><p>mmc_goods_gallery</p><ul><li>goods_id</li><li>img_url</li><li>img_desc</li><li>thumb_url</li><li>img_original</li></ul></blockquote><h4 id="关联商品"><a href="#关联商品" class="headerlink" title="关联商品"></a>关联商品</h4><blockquote><p>table：mmc_link_goods</p><ul><li>goods_id</li><li>link_goods_id</li><li>is_double</li><li>admin_id</li></ul></blockquote><h4 id="配件"><a href="#配件" class="headerlink" title="配件"></a>配件</h4><blockquote><p>table: mmc_group_goods</p><ul><li>parent_id      父类ID：本商品goods_id</li><li>goods_id       配件商品ID：mmc_goods</li><li>goods_price    配件价格</li><li>admin_id</li></ul></blockquote><h4 id="备用"><a href="#备用" class="headerlink" title="备用"></a>备用</h4><p>add_goods_article  goodsId<br>drop_goods_article  goodsId</p><h3 id="添加商品按钮"><a href="#添加商品按钮" class="headerlink" title="添加商品按钮"></a>添加商品按钮</h3><p>这部分做初始化操作，目的是删除缓存的关联数据</p><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsAddInit</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><h3 id="确定添加商品"><a href="#确定添加商品" class="headerlink" title="确定添加商品"></a>确定添加商品</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsAdd</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:文件类型</span><br><span class="line">goods_thumb:文件类型</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">其他错误信息：</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;文件类型不符合要求!&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品提交更新"><a href="#商品提交更新" class="headerlink" title="商品提交更新"></a>商品提交更新</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsUpdate</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn:可为空，系统自动生成SN</span><br><span class="line">cat_id</span><br><span class="line">user_id  【新增】产品负责人          </span><br><span class="line">brand_id        </span><br><span class="line">shop_price</span><br><span class="line">market_price</span><br><span class="line"></span><br><span class="line">goods_img:保留，暂不提交</span><br><span class="line">goods_thumb:保留，暂不提交</span><br><span class="line"></span><br><span class="line">【新增】is_make_thumb :是否生成缩略图  0：手动提交缩略图  1：自动生成缩略图</span><br><span class="line"></span><br><span class="line">goods_desc</span><br><span class="line"></span><br><span class="line">goods_weight ：两位小数</span><br><span class="line">goods_number</span><br><span class="line">is_best      </span><br><span class="line">is_new       </span><br><span class="line">is_hot </span><br><span class="line">        </span><br><span class="line">is_on_sale</span><br><span class="line">keywords</span><br><span class="line">goods_brief</span><br><span class="line">seller_note</span><br><span class="line"></span><br><span class="line">goods_type</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品编辑"><a href="#商品编辑" class="headerlink" title="商品编辑"></a>商品编辑</h3><blockquote><p>说明：商品的添加界面<br>HOST：<em>URL</em>/admin/goods/goodsEdit<br>参数来源：</p><ul><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id    商品Id</span><br><span class="line">session_id  用户session_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><p>goods_param_list  产品参数列表<br>linked_goods_list 关联商品列表<br>group_goods_list  关联配件列表<br>goods_gallery_list 产品相册列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;goods_param_list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;cat_id&quot;: &quot;3&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000001&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1550&quot; </span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;linked_goods_list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;MC6-1550 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;MC6-1200 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;3&quot;,</span><br><span class="line">            &quot;text&quot;: &quot;T80 -- [单向关联]&quot;,</span><br><span class="line">            &quot;data&quot;: &quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;group_goods_list&quot;: []</span><br><span class="line">    </span><br><span class="line">    &quot;goods_gallery_list&quot;:[img_id,image_url,img_desc,thumb_url]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="移除产品到回收站"><a href="#移除产品到回收站" class="headerlink" title="移除产品到回收站"></a>移除产品到回收站</h3><p>注：此种删除方式只是将产品移动到回收站列表，并不是真正的删除此产品，如果将此产品完全删除需要调用goodsDrop接口。</p><blockquote><p>HOST:<em>URL</em>/admin/goods/goodsRemove</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">good_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure><h3 id="从回收站彻底删除产品"><a href="#从回收站彻底删除产品" class="headerlink" title="从回收站彻底删除产品"></a>从回收站彻底删除产品</h3><p>注：此种删除方式将此产品彻底删除，不可逆转。</p><blockquote><p>HOST:<em>URL</em>/admin/goods/goodsDrop</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">good_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 商品分类删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure><h3 id="删除商品"><a href="#删除商品" class="headerlink" title="删除商品"></a>删除商品</h3><blockquote><p>HOST:<em>URL</em>/admin/goods/dropGallery</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_id  图片ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 删除失败</span><br><span class="line">$status = 1</span><br><span class="line">$message = &apos;删除失败!&apos;;</span><br><span class="line"></span><br><span class="line">2. 删除成功</span><br><span class="line">$status = 0</span><br><span class="line">$message = &apos;商品删除成功&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品列表"><a href="#商品列表" class="headerlink" title="商品列表"></a>商品列表</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/listGoods</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* @param   cat_id     分类ID</span><br><span class="line">* @param   brand_id   品牌</span><br><span class="line">* @param   keywords   关键字</span><br><span class="line">* @param   sort_by    排序方式      不赋值默认g.goods_id  还有：g.cat_id  g.is_on_sale</span><br><span class="line">* @param   sort_order 顺序还是倒序   不赋值默认倒序排列，    sort_order =1 时为顺序</span><br><span class="line">* @param   page_size  分页大小</span><br><span class="line">* @param   page       第几页</span><br><span class="line">* @return  array</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">参数说明：</span><br><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br><span class="line">goods_sn,货号</span><br><span class="line">name_cn,产品负责人【新增】</span><br><span class="line">shop_price,价格</span><br><span class="line">is_on_sale,上架</span><br><span class="line">is_best,精品</span><br><span class="line">is_new,新品</span><br><span class="line">is_hot,热销</span><br><span class="line">sort_order,推荐排序</span><br><span class="line">goods_number库存</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;list&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">            &quot;goods_name&quot;: &quot;MC6-1200&quot;,</span><br><span class="line">            &quot;goods_sn&quot;: &quot;SN_000002&quot;,</span><br><span class="line">            &quot;name_cn&quot;: &quot;实验室&quot;,</span><br><span class="line">            &quot;shop_price&quot;: &quot;120000.00&quot;,</span><br><span class="line">            &quot;is_on_sale&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_best&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_new&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;is_hot&quot;: &quot;1&quot;,</span><br><span class="line">            &quot;sort_order&quot;: &quot;102&quot;,</span><br><span class="line">            &quot;goods_number&quot;: &quot;10&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;filter&quot;: &#123;</span><br><span class="line">        &quot;sort_by&quot;: &quot;g.goods_id&quot;,  按照goods_id 排序</span><br><span class="line">        &quot;sort_order&quot;: &quot;DESC&quot;,  倒序/顺序</span><br><span class="line">        &quot;record_count&quot;: &quot;1&quot;,   一共多少条记录</span><br><span class="line">        &quot;page_size&quot;: 10,       分页大小</span><br><span class="line">        &quot;page&quot;: 1,             第几页</span><br><span class="line">        &quot;page_count&quot;: 1,       总页数</span><br><span class="line">        &quot;start&quot;: 0             从第几条记录开始</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;page_count&quot;: 1,        </span><br><span class="line">    &quot;record_count&quot;: &quot;1&quot;     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注：删除虚拟销量virtual_sales标签；</p><h3 id="商品名称在线修改"><a href="#商品名称在线修改" class="headerlink" title="商品名称在线修改"></a>商品名称在线修改</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsNameChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_name,商品名称</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品货号在线修改"><a href="#商品货号在线修改" class="headerlink" title="商品货号在线修改"></a>商品货号在线修改</h3><p>权限：goods_manage<br>注：商品货号为唯一识别码，修改前先进性查重操作。</p><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsSnChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_sn,货号</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">status = 501;</span><br><span class="line">message= 该条数据存在；</span><br><span class="line"></span><br><span class="line">status = 777；</span><br><span class="line">message= 权限；</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品价格在线修改"><a href="#商品价格在线修改" class="headerlink" title="商品价格在线修改"></a>商品价格在线修改</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/shopPriceChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">shop_price,价格</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品上架在线修改"><a href="#商品上架在线修改" class="headerlink" title="商品上架在线修改"></a>商品上架在线修改</h3><p>权限：goods_manage</p><blockquote><p>HOST：<em>URL</em>/admin/goods/onSaleStatusChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_on_sale,上架, 0:取消  1：选中</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品精品在线修改"><a href="#商品精品在线修改" class="headerlink" title="商品精品在线修改"></a>商品精品在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/isBestStatusChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_best,精品, 0:取消  1：选中</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品新品在线修改"><a href="#商品新品在线修改" class="headerlink" title="商品新品在线修改"></a>商品新品在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/isNewStatusChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_new,新品, 0:取消  1：选中</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品热销在线修改"><a href="#商品热销在线修改" class="headerlink" title="商品热销在线修改"></a>商品热销在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/isHotStatusChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">is_hot,热销, 0:取消  1：选中</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品推荐排序在线修改"><a href="#商品推荐排序在线修改" class="headerlink" title="商品推荐排序在线修改"></a>商品推荐排序在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/sortOrderChange</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">sort_order,推荐排序</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品库存在线修改"><a href="#商品库存在线修改" class="headerlink" title="商品库存在线修改"></a>商品库存在线修改</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsNumberChange</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id,编号</span><br><span class="line">goods_number，库存</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">status  = 0;</span><br><span class="line">message = &apos;数据更新成功!&apos;;</span><br><span class="line"></span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据更新失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="单个商品属性值获取"><a href="#单个商品属性值获取" class="headerlink" title="单个商品属性值获取"></a>单个商品属性值获取</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/getGoodsAttr</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">attr_id  属性唯一识别ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">attr_value 属性值</span><br></pre></td></tr></table></figure><h3 id="单个商品属性提交更新"><a href="#单个商品属性提交更新" class="headerlink" title="单个商品属性提交更新"></a>单个商品属性提交更新</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/goodsAttrUpdate</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br><span class="line">attr_id</span><br><span class="line">attr_value</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><h3 id="关联商品页面搜索按钮"><a href="#关联商品页面搜索按钮" class="headerlink" title="关联商品页面搜索按钮"></a>关联商品页面搜索按钮</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/searchGoodsList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">过滤条件</span><br><span class="line">* cat_id      int     分类ID</span><br><span class="line">* brand_id    int     品牌ID</span><br><span class="line">* keyword     string  关键字</span><br><span class="line">* exclude     arry    商品ID数组     [goods_id]  目的：除了本商品外的商品</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">返回值列表：</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;MC6-1550&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;1000000.00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;MC6-1200&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;120000.00&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_id&quot;: &quot;3&quot;,</span><br><span class="line">        &quot;goods_name&quot;: &quot;T80&quot;,</span><br><span class="line">        &quot;shop_price&quot;: &quot;0.00&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="关联商品页添加商品关联"><a href="#关联商品页添加商品关联" class="headerlink" title="关联商品页添加商品关联"></a>关联商品页添加商品关联</h3><p>此接口支持单产品绑定，支持多产品绑定。</p><blockquote><p>HOST：<em>URL</em>/admin/goods/addLinkGoods</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @param   array   add_ids    要关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     is_double  是否双向绑定    0：否；1：是</span><br><span class="line">* @param   string  session_id 用户session ID</span><br><span class="line">* @return  JSON [&#123;value&#125;,&#123;text&#125;,&#123;data&#125;]</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "1",</span><br><span class="line">        "text": "MC6-1550 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="关联商品页删除商品关联"><a href="#关联商品页删除商品关联" class="headerlink" title="关联商品页删除商品关联"></a>关联商品页删除商品关联</h3><p>此接口支持单产品删除，支持多产品删除。</p><blockquote><p>HOST：<em>URL</em>/admin/goods/dropLinkGoods</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多商品一次性删除</span><br><span class="line">* @param   array   drop_ids    要删除关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     is_double  是否双向绑定    0：否；1：是</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><ul><li>@return  JSON [{value},{text},{data}]</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "1",</span><br><span class="line">        "text": "MC6-1550 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [单向关联]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>###添加配件页面选择产品价格输入框</p><blockquote><p>HOST：<em>URL</em>/admin/goods/getGoodsPrice</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* @detail 添加配件页面选择产品价格输入框</span><br><span class="line">* @param    int     goods_id   操作的商品ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @return   string  shop_price </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "shop_price": "120000.00"</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="添加配件关联"><a href="#添加配件关联" class="headerlink" title="添加配件关联"></a>添加配件关联</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/addGroupGoods</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多配件一次添加</span><br><span class="line">* @param   array   add_ids    要关联的配件ID       例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   int     shop_price 商品填写框中的价格</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><ul><li>@return  JSON [{value},{text},{data}]</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "3",</span><br><span class="line">        "text": "T80 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="关联配件页删除配件关联"><a href="#关联配件页删除配件关联" class="headerlink" title="关联配件页删除配件关联"></a>关联配件页删除配件关联</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/dropGroupGoods</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* @detail 支持多配件一次性删除</span><br><span class="line">* @param   array   drop_ids    要删除关联的商品ID  例子：[1,2,5]</span><br><span class="line">* @param   int     goods_id   操作的商品ID</span><br><span class="line">* @param   string  session_id 用户session ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><ul><li>@return  JSON [{value},{text},{data}]</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "value": "2",</span><br><span class="line">        "text": "MC6-1200 -- [50000.00]",</span><br><span class="line">        "data": ""</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="批量上传图片"><a href="#批量上传图片" class="headerlink" title="批量上传图片"></a>批量上传图片</h3><blockquote><p>HOST：<em>URL</em>/admin/goods/uploadMassGallery</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* @param   int     goods_id       商品ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><h3 id="商品审批操作日志表及状态显示"><a href="#商品审批操作日志表及状态显示" class="headerlink" title="商品审批操作日志表及状态显示"></a>商品审批操作日志表及状态显示</h3><p>数据表：mmc_approve_action </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">action_id       mediumint 流水号</span><br><span class="line">goods_id        mediumint 被操作的商品ID</span><br><span class="line">action_user     varchar   操作该次的人员</span><br><span class="line">test_status     tinyint   测试状态。0，未确认；1，已确认；</span><br><span class="line">finance_status  tinyint   财务状态。0，未定价；1，已定价；</span><br><span class="line">lab_status      tinyint   实验室审批状态。0，未审批; 1，已审批;</span><br><span class="line">goods_status    tinyint   商品状态。0，未上架；1，已上架；2，预研项目；3，取消（红色）；4，已提交；</span><br><span class="line">action_note     varchar   操作备注</span><br><span class="line">log_time        int       操作时间</span><br></pre></td></tr></table></figure><h2 id="商品数据管理"><a href="#商品数据管理" class="headerlink" title="商品数据管理"></a>商品数据管理</h2><p>主要数据表介绍：</p><ul><li>mmc_data：商品数据的状态表</li><li>mmc_data_file: 商品数据表</li><li>mmc_data_type: 商品文件名称列表</li></ul><h3 id="表结构说明"><a href="#表结构说明" class="headerlink" title="表结构说明"></a>表结构说明</h3><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file_id: 序号ID</span><br><span class="line">goods_id:产品ID  -&gt;  goods_name：产品名字   //从goods表中获取</span><br></pre></td></tr></table></figure><h3 id="商品数据列表"><a href="#商品数据列表" class="headerlink" title="商品数据列表"></a>商品数据列表</h3><blockquote><p>HOST：<em>URL</em>/admin/data/dataList</p><ul><li>请求方式：POST</li><li>参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure></li></ul></blockquote><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//成功</span><br><span class="line">goods_id</span><br><span class="line">goods_name</span><br><span class="line">goods_sn</span><br><span class="line">is_brief_ch  商品简页</span><br><span class="line">is_brief_en</span><br><span class="line">is_userguide_ch 用户手册</span><br><span class="line">is_userguide_en</span><br><span class="line">is_openvideo  开箱视频</span><br><span class="line">is_installvideo  安装视频</span><br><span class="line">is_debugvideo 测试视频</span><br><span class="line">is_project 立项书</span><br><span class="line"></span><br><span class="line">//错误提示</span><br><span class="line">status  = 1;</span><br><span class="line">message = &apos;数据获取失败！&apos;;</span><br></pre></td></tr></table></figure><h3 id="商品数据编辑"><a href="#商品数据编辑" class="headerlink" title="商品数据编辑"></a>商品数据编辑</h3><blockquote><p>HOST：<em>URL</em>/admin/data/dataList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="商品数据数据类型"><a href="#商品数据数据类型" class="headerlink" title="商品数据数据类型"></a>商品数据数据类型</h3><blockquote><p>HOST：<em>URL</em>/admin/data/getDataCat</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;dcat_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;dcat_name&quot;: &quot;产品简页(中文)&quot;,</span><br><span class="line">        &quot;enabled&quot;: &quot;1&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="商品数据编辑按钮"><a href="#商品数据编辑按钮" class="headerlink" title="商品数据编辑按钮"></a>商品数据编辑按钮</h3><blockquote><p>HOST：<em>URL</em>/admin/data/editDataBtn</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* @param   string  goods_id      商品ID</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><ul><li>@return  array<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;dcat_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;file_version&quot;: &quot;100&quot;,</span><br><span class="line">        &quot;file_name&quot;: &quot;MC6-1550S用户手册V1.0.pdf&quot;,</span><br><span class="line">        &quot;file_ext&quot;: &quot;pdf&quot;,</span><br><span class="line">        &quot;file_url&quot;: &quot;http://192.168.4.222/mmcshop/file/1/document/1_P_2_100_1524493791754.pdf&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li></ul><h3 id="上传商品数据文件"><a href="#上传商品数据文件" class="headerlink" title="上传商品数据文件"></a>上传商品数据文件</h3><blockquote><p>HOST：<em>URL</em>/admin/data/uploadDataFile</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 上传商品数据文件</span><br><span class="line">* @param   string  goods_id      商品ID</span><br><span class="line">* @param   string  file_type     目标文件类型  可供选择：media 、pdf</span><br><span class="line">* @param   int     dcat_id       数据类型ID</span><br><span class="line">* @param   int     file_version  文件版本号    三位表示法，如100：标识版本1.0 ； 205：标识2.5版本</span><br><span class="line">* @param   _FILES  data_file     文件</span><br><span class="line">* @param   string  file_desc     文件描述，可为空</span><br><span class="line">* @return  array</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//更新失败</span><br><span class="line">status  =1</span><br><span class="line">message = &apos;数据更新失败!&apos;,</span><br><span class="line">//更新成功</span><br><span class="line">status  =0</span><br><span class="line">message = &apos;数据更新成功!&apos;,</span><br><span class="line"></span><br><span class="line">// goods_id为空错误</span><br><span class="line">status  =1</span><br><span class="line">message = 商品id为空，请重新操作！</span><br><span class="line">// dcat_id为空错误</span><br><span class="line">// file_version为空错误</span><br><span class="line">// data_file为空错误</span><br></pre></td></tr></table></figure><h3 id="获取商品名字"><a href="#获取商品名字" class="headerlink" title="获取商品名字"></a>获取商品名字</h3><blockquote><p>HOST：<em>URL</em>/admin/data/getGoodsName</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goods_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;goods_name&quot;: &quot;1550&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="商品品牌"><a href="#商品品牌" class="headerlink" title="商品品牌"></a>商品品牌</h2><p>商品品牌：mmc_brand</p><h3 id="商品品牌菜单"><a href="#商品品牌菜单" class="headerlink" title="商品品牌菜单"></a>商品品牌菜单</h3><blockquote><p>HOST：<em>URL</em>/admin/brand/menuBrand</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;brand_id&quot;:&quot;1&quot;,</span><br><span class="line">        &quot;brand_name&quot;:&quot;\u79d1\u6bd4\u7279&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="商品类型分类"><a href="#商品类型分类" class="headerlink" title="商品类型分类"></a>商品类型分类</h2><p>商品类型：mmc_goods_type</p><h3 id="商品类型菜单"><a href="#商品类型菜单" class="headerlink" title="商品类型菜单"></a>商品类型菜单</h3><blockquote><p>HOST：<em>URL</em>/admin/goodstype/menuGoodstype</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br><span class="line">cat_name</span><br></pre></td></tr></table></figure><h3 id="商品参数属性菜单"><a href="#商品参数属性菜单" class="headerlink" title="商品参数属性菜单"></a>商品参数属性菜单</h3><blockquote><p>HOST：<em>URL</em>/admin/goodstype/menuAttribute</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;attr_id&quot;: &quot;1&quot;,</span><br><span class="line">&quot;attr_name&quot;: &quot;最大起飞重量&quot;</span><br></pre></td></tr></table></figure><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><ul><li>权限角色管理在表 mmc_role，主要以部门划分，每个部门划分权限。</li><li>mmc_admin_user 管理员用户列表</li></ul><h3 id="产品负责人列表"><a href="#产品负责人列表" class="headerlink" title="产品负责人列表"></a>产品负责人列表</h3><blockquote><p>HOST：<em>URL</em>/admin/user/goodsOwnList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;2&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;基础用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;3&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;基础用户&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;user_id&quot;: &quot;8&quot;,</span><br><span class="line">        &quot;name_cn&quot;: &quot;000&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="管理员用户列表"><a href="#管理员用户列表" class="headerlink" title="管理员用户列表"></a>管理员用户列表</h3><blockquote><p>HOST：<em>URL</em>/admin/user/getAdminUserList</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">user_id, </span><br><span class="line">user_name, 登录名</span><br><span class="line">name_cn,用户名</span><br><span class="line">email, </span><br><span class="line">add_time, </span><br><span class="line">last_login</span><br></pre></td></tr></table></figure><h3 id="删除管理员"><a href="#删除管理员" class="headerlink" title="删除管理员"></a>删除管理员</h3><blockquote><p>HOST：<em>URL</em>/admin/user/dropAdminUser</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id : 管理员id</span><br><span class="line">session_id: 当前session_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure><h3 id="编辑管理员"><a href="#编辑管理员" class="headerlink" title="编辑管理员"></a>编辑管理员</h3><blockquote><p>HOST：<em>URL</em>/admin/user/editAdminUser</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id : 管理员id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user_id, </span><br><span class="line">user_name, </span><br><span class="line">name_cn , </span><br><span class="line">email, </span><br><span class="line">role_id</span><br></pre></td></tr></table></figure><h3 id="添加管理员用户"><a href="#添加管理员用户" class="headerlink" title="添加管理员用户"></a>添加管理员用户</h3><blockquote><p>HOST：<em>URL</em>/admin/user/addAdminUser</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @param   string user_name         用户名</span><br><span class="line">* @param   string name_cn           中文名</span><br><span class="line">* @param   string email</span><br><span class="line">* @param   string password          密码</span><br><span class="line">* @param   string pwd_confirm       确认密码</span><br><span class="line">* @param   ing    select_role       选择角色id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure><h3 id="编辑更新管理员"><a href="#编辑更新管理员" class="headerlink" title="编辑更新管理员"></a>编辑更新管理员</h3><p>注：新增中文名表单，name_cn。</p><blockquote><p>HOST：<em>URL</em>/admin/user/updateAdminUser</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* @param   int    id                图片ID</span><br><span class="line">* @param   string user_name         用户名</span><br><span class="line">* @param   string name_cn           中文名</span><br><span class="line">* @param   string email</span><br><span class="line">* @param   string old_password      旧密码</span><br><span class="line">* @param   string new_password      新密码</span><br><span class="line">* @param   string pwd_confirm       确认密码</span><br><span class="line">* @param   ing    select_role       选择角色id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure><h3 id="管理员角色管理列表"><a href="#管理员角色管理列表" class="headerlink" title="管理员角色管理列表"></a>管理员角色管理列表</h3><blockquote><p>HOST：<em>URL</em>/admin/user/getRoleList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">role_id, </span><br><span class="line">role_name, </span><br><span class="line">action_list, </span><br><span class="line">role_describe</span><br></pre></td></tr></table></figure><h3 id="获取管理员角色名称列表菜单"><a href="#获取管理员角色名称列表菜单" class="headerlink" title="获取管理员角色名称列表菜单"></a>获取管理员角色名称列表菜单</h3><p>管理员角色菜单列表，第一个默认：</p><p>role_id=0<br>role_name = 请选择</p><blockquote><p>HOST：<em>URL</em>/admin/user/roleMenu</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;role_id&quot;: &quot;1&quot;,</span><br><span class="line">        &quot;role_name&quot;: &quot;商品添加权限&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="添加角色按钮"><a href="#添加角色按钮" class="headerlink" title="添加角色按钮"></a>添加角色按钮</h3><h3 id="删除角色确定按钮"><a href="#删除角色确定按钮" class="headerlink" title="删除角色确定按钮"></a>删除角色确定按钮</h3><h3 id="编辑角色按钮"><a href="#编辑角色按钮" class="headerlink" title="编辑角色按钮"></a>编辑角色按钮</h3><p>获取角色的基本信息</p><h3 id="更新角色确定按钮"><a href="#更新角色确定按钮" class="headerlink" title="更新角色确定按钮"></a>更新角色确定按钮</h3><p>提交更新角色</p><h2 id="管理员日志"><a href="#管理员日志" class="headerlink" title="管理员日志"></a>管理员日志</h2><h3 id="获取IP列表"><a href="#获取IP列表" class="headerlink" title="获取IP列表"></a>获取IP列表</h3><blockquote><p>HOST：<em>URL</em>/admin/log/getIpList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;127.0.0.1&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;192.168.4.203&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;ip_address&quot;: &quot;192.168.4.241&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="获取日志列表"><a href="#获取日志列表" class="headerlink" title="获取日志列表"></a>获取日志列表</h3><p>支持分页。</p><blockquote><p>HOST：<em>URL</em>/admin/log/getIpList</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* @param   id         用户ID</span><br><span class="line">* @param   ip         用户IP</span><br><span class="line">* @param   sort_by    排序方式      不赋值默认al.log_id；  sort_by = al.log_time 或者 al.user_id</span><br><span class="line">* @param   sort_order 顺序还是倒序   不赋值默认倒序排列；    sort_order = 1 时为顺序</span><br><span class="line">* @param   page_size  分页大小</span><br><span class="line">* @param   page       第几页</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><ul><li>@return  array<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    "list": [</span><br><span class="line">        &#123;</span><br><span class="line">            "log_time": "2018-04-20 15:09:34",</span><br><span class="line">            "log_id": "100",</span><br><span class="line">            "user_id": "1",</span><br><span class="line">            "log_info": "删除权限管理: 123",</span><br><span class="line">            "ip_address": "127.0.0.1",</span><br><span class="line">            "user_name": "admin"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            "log_time": "2018-04-20 14:34:36",</span><br><span class="line">            "log_id": "99",</span><br><span class="line">            "user_id": "1",</span><br><span class="line">            "log_info": "编辑权限管理: mmc",</span><br><span class="line">            "ip_address": "127.0.0.1",</span><br><span class="line">            "user_name": "admin"</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    "filter": &#123;</span><br><span class="line">        "sort_by": "al.log_id",</span><br><span class="line">        "sort_order": "DESC",</span><br><span class="line">        "record_count": "100",</span><br><span class="line">        "page_size": 2,</span><br><span class="line">        "page": 1,</span><br><span class="line">        "page_count": 50,</span><br><span class="line">        "start": 0</span><br><span class="line">    &#125;,</span><br><span class="line">    "page_count": 50,</span><br><span class="line">    "record_count": "100"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="HTML功能"><a href="#HTML功能" class="headerlink" title="HTML功能"></a>HTML功能</h2><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.store.com/home/Tools/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"image"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传"</span> <span class="attr">id</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="pdf预览"><a href="#pdf预览" class="headerlink" title="pdf预览"></a>pdf预览</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;object classid=&quot;clsid:CA8A9780-280D-11CF-A24D-444553540000&quot; width=&quot;500&quot; height=&quot;1000&quot; border=&quot;0&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_Version&quot; value=&quot;65539&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_ExtentX&quot; value=&quot;20108&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_ExtentY&quot; value=&quot;10866&quot;&gt;</span><br><span class="line">&lt;param name=&quot;_StockProps&quot; value=&quot;0&quot;&gt;</span><br><span class="line">&lt;param name=&quot;SRC&quot; value=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot;&gt;</span><br><span class="line">&lt;object data=&quot;http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf&quot; type=&quot;application/pdf&quot; width=&quot;1000&quot; height=&quot;1200&quot;&gt;</span><br><span class="line">&lt;/object&gt;</span><br><span class="line">&lt;/object&gt;</span><br></pre></td></tr></table></figure><h2 id="错误返回"><a href="#错误返回" class="headerlink" title="错误返回"></a>错误返回</h2><p>返回例子：</p><p>{status: int;  message:”string” }</p><p>|名称|类型|</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">status: int 消息ID</span><br><span class="line">    0：默认值  表示正常消息</span><br><span class="line">    210：</span><br><span class="line">    404：不存在</span><br><span class="line"></span><br><span class="line">    500：数据库操作消息</span><br><span class="line">    501：数据重复</span><br><span class="line">    777：权限操作错误</span><br><span class="line">    </span><br><span class="line">    400:session_id 失效</span><br><span class="line"></span><br><span class="line">message: string 消息描述</span><br></pre></td></tr></table></figure><p>[TOC]</p><h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><h2 id="文件获取路径"><a href="#文件获取路径" class="headerlink" title="文件获取路径"></a>文件获取路径</h2><blockquote><p><em>URL</em> = <a href="http://192.168.4.222/mmcshop/Uploads/" target="_blank" rel="noopener">http://192.168.4.222/mmcshop/Uploads/</a><br>相对路径：20180408/01.jpg<br>绝对路径：<a href="http://192.168.4.222/mmcshop/Uploads/20180408/01.jpg" target="_blank" rel="noopener">http://192.168.4.222/mmcshop/Uploads/20180408/01.jpg</a></p></blockquote><h2 id="登录-1"><a href="#登录-1" class="headerlink" title="登录"></a>登录</h2><blockquote><p>控制器：PublicController.class.php</p></blockquote><h3 id="checkLogin-1"><a href="#checkLogin-1" class="headerlink" title="checkLogin"></a>checkLogin</h3><blockquote><p>HOST:<em>URL</em>/home/public/checkLogin</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code  string,图片验证码</span><br><span class="line">username string,用户名或手机号</span><br><span class="line">password string,密码</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br><span class="line">        // 1，验证码错误</span><br><span class="line">        // 2，用户名不存在</span><br><span class="line">        // 3，密码错误</span><br><span class="line">message string,消息</span><br><span class="line">session_name string,用户名</span><br><span class="line">session_id  string,</span><br></pre></td></tr></table></figure><h3 id="验证登录-1"><a href="#验证登录-1" class="headerlink" title="验证登录"></a>验证登录</h3><blockquote><p>HOST:<em>URL</em>/home/public/verifyLogin</p></blockquote><ul><li>请求方式：POST</li><li>参数</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_id</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">status  0，成功</span><br><span class="line">        1. 登录失败</span><br></pre></td></tr></table></figure><h2 id="主界面"><a href="#主界面" class="headerlink" title="主界面"></a>主界面</h2><h3 id="显示标题栏"><a href="#显示标题栏" class="headerlink" title="显示标题栏"></a>显示标题栏</h3><blockquote><p>HOST：<em>URL</em>/home/public/showTopNav</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;cat_id&quot;: &quot;1&quot;,</span><br><span class="line">&quot;cat_name&quot;: &quot;无人机&quot;</span><br></pre></td></tr></table></figure><h3 id="显示侧边栏顶级分类"><a href="#显示侧边栏顶级分类" class="headerlink" title="显示侧边栏顶级分类"></a>显示侧边栏顶级分类</h3><blockquote><p>HOST：<em>URL</em>/home/public/showLeftNav</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat_id    节点cat_id</span><br><span class="line">cat_name  节点cat_name</span><br></pre></td></tr></table></figure><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><blockquote><p>HOST：<em>URL</em>/home/public/</p><ul><li>请求方式：POST</li><li>参数</li></ul></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void</span><br></pre></td></tr></table></figure><ul><li>返回值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="更新内容"><a href="#更新内容" class="headerlink" title="更新内容"></a>更新内容</h1><h2 id="20180420"><a href="#20180420" class="headerlink" title="20180420"></a>20180420</h2><ul><li style="list-style: none"><input type="checkbox" checked> listGoods接口 增加 name_cn 产品负责人。</li></ul><h2 id="20180423"><a href="#20180423" class="headerlink" title="20180423"></a>20180423</h2><ul><li style="list-style: none"><input type="checkbox" checked> 增加商品管理 uploadDocument接口；</li><li style="list-style: none"><input type="checkbox" checked> 更新商品文件上传接口 HOST：<em>URL</em>/admin/data/uploadDataFile；</li><li style="list-style: none"><input type="checkbox" checked> 增加商品数据编辑按钮接口 HOST：<em>URL</em>/admin/data/editDataBtn</li></ul>]]></content>
      
      <categories>
          
          <category> API </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>飞行调试常见问题及解决办法</title>
      <link href="/2017/11/29/Flightdebugging_QAS/"/>
      <url>/2017/11/29/Flightdebugging_QAS/</url>
      <content type="html"><![CDATA[<blockquote><p>飞行调试常见问题及解决办法<br>更新日期：2017-11-25</p></blockquote><h2 id="2017年11月汇总"><a href="#2017年11月汇总" class="headerlink" title="2017年11月汇总"></a>2017年11月汇总</h2><span class="label label-danger">Q</span> 测试拉距时频繁丢控？<br><br><span class="label label-success">A</span> 重新将遥控器与接收机对码后，重新测试恢复正常<br><br><span class="label label-danger">Q</span> 按压设备电源开关时，出现火花和烟雾，有明显烧焦气味，导致设备无法工作。<br><br><br><span class="label label-success">A</span> 更换新的分线板<br><br><br><span class="label label-danger">Q</span> 电源开关开启后无法关闭<br><br><br><span class="label label-success">A</span> 更换两次电源开关后正常。<br><br><br><span class="label label-danger">Q</span> 网口版松下20倍，因侧面多加了一块网口图传板，导致整机发热严重，20分钟左右图传会死机，重启后恢复。<br><br><br><span class="label label-success">A</span> 可在网口板后放加垫约3mm的散热硅胶，相机会延长到40分钟才死机。<br><br><span class="label label-danger">Q</span> 龙华消防喊话为433电台版本，客户不满意延迟现象。更换新版电台喊话后，挂载可控没有声音。<br><br><span class="label label-success">A</span> 排除了喊话挂载、飞控、电台两端等环节，最后发现问题出现在快拆板内传输声音的线松了<br><br><span class="label label-danger">Q</span> 系留1200配200米线盘一直不稳定<br><br><span class="label label-success">A</span> 经测试分析后发现200米线盘较100米线盘内阻大，导致功率变低。<br><br><span class="label label-danger">Q</span> “演示机五号六号机臂不转，把它更换到2号也不转并且都发出滴滴响。”<br><br><span class="label label-success">A</span> 电调信号线无传输，无法修复，到产线更换一个新电调解决。<br><br><span class="label label-danger">Q</span> mc8-1200飞机测试续航时7号机臂突然停转，飞机没有翻机，油门校准后往右侧翻。<br><br><span class="label label-success">A</span> 重新校准油门行程解决。<br><br><span class="label label-danger">Q</span> 与冗余陀螺仪偏差过大<br><br><span class="label label-success">A</span> 打开专业模式，修改“GPS_HDOP_GOOD”参数值，将0改成140.<br><br><br>## 2017年10月汇总<br><br><br><span class="label label-danger">Q</span> GPS异常，定位不准。飞机在地图上的位置与实际位置相差太多（10米以上）<br><br><span class="label label-success">A</span> 重新更换gps模块<br><br><span class="label label-danger">Q</span> 飞机悬停抖动较为明显，调参无明显改善<br><br><span class="label label-success">A</span> IMU减震优化<br><br><span class="label label-danger">Q</span> 测试飞行中途再次出现图像蓝屏，用手轻拍挂载也能复现问题<br><br><span class="label label-success">A</span> 更换飞机端快拆pcba版<br><br><span class="label label-danger">Q</span> 地面站实时电流显示为“0”<br><br><span class="label label-success">A</span> 更换分线板<br><br><span class="label label-danger">Q</span> 电台连接距离较近（不到5米就会断连），是由于地面站端电台馈线接触不良导致<br><br><span class="label label-success">A</span> 更换地面站端电台馈线<br><br><span class="label label-danger">Q</span> 航线模式中切到引导模式，地面站控制不了等问题。<br><br><span class="label label-success">A</span> 解决办法升级到最新地面站软件和固件。<br><br><span class="label label-danger">Q</span> 通电加挂载之后没有标清和高清图像。<br><br><span class="label label-success">A</span> <ol><li>图传问题的排查方法，重启地面站与飞机，挂载与云台之间重新拔插。</li><li>更换hdmi线。更换图传。把挂载与飞控连接的线重新拔插一次。</li><li>用扫频仪检测。”</li></ol><span class="label label-danger">Q</span> 电机解锁后有一个电机未解锁，安全锁解锁后有一个电机仍滴滴的响<br><br><span class="label label-success">A</span> 飞机失控导致机身信号线断裂，重新焊好测试ok<br><br><span class="label label-danger">Q</span> 图像显示蓝屏<br><br><span class="label label-success">A</span> 测试发现飞机图传发射端无功率发出，重新更换图传测试0k<br><br><span class="label label-danger">Q</span> 飞机飞行过程中左右晃动，定位不准<br><br><span class="label label-success">A</span> 重新校准地磁，飞机飞行稳定<br><br><span class="label label-danger">Q</span> 图像显示画中画<br><br><span class="label label-success">A</span> <ol><li>“起初以为是安装顺序错误，后多次测试系留是这样，是gopro的按键理解错误</li><li>gopro左侧为开机键，下侧也录像键，如果直接按录像键也可以开机，但为画中画，开机按左侧键则显示正常”</li></ol><p><span class="label label-danger">Q</span> “氢燃料飞机，电台和图传天线的有效传输部分<br>被电堆挡住，影响数据、图像传输。”</p><p><span class="label label-success">A</span> 将天线延长，固定在脚架下半部。</p><p><span class="label label-danger">Q</span> “脚架横管两端的胶套，拆卸横管过程中每次<br>都要把胶套取下，且实际作用不大。”</p><p><span class="label label-success">A</span> 建议可以尝试使用和横管直径一样的胶塞而非胶套。</p>]]></content>
      
      <categories>
          
          <category> QuestionsAndAnswers </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>售后常见问题及解决办法</title>
      <link href="/2017/11/29/Aftersale_QAS/"/>
      <url>/2017/11/29/Aftersale_QAS/</url>
      <content type="html"><![CDATA[<blockquote><p>售后常见问题及解决办法<br>更新日期：2017-11-29</p></blockquote><h2 id="2017年11月汇总"><a href="#2017年11月汇总" class="headerlink" title="2017年11月汇总"></a>2017年11月汇总</h2><span class="label label-danger">Q</span> 电机不转？<br><br><span class="label label-success">A</span> <ol><li>分析排除是否是电机电调损坏 </li><li>确认电机电调连接线是否正常  </li><li>设置电调行程是否校准好 </li></ol><span class="label label-danger">Q</span> 飞机放在地面上但是地面站飞机会有飞行轨迹？<br><br><span class="label label-success">A</span> <ol><li>确认是否是新版本地面站软件</li><li>重新校准指南针 </li><li>导出飞行日志查询是否正常 </li><li>更换GPS</li></ol><span class="label label-danger">Q</span> 喊话无声音可以控制？<br><br><span class="label label-success">A</span> <ol><li>确认地面站是否可以连接 </li><li>检查喊话喇叭是否损坏 </li><li>检查电台和快拆的连接线是否松动或线序是否正常</li></ol><p><span class="label label-danger">Q</span> 通电后六个电机不转无法启动？</p><p><span class="label label-success">A</span> 将设备通电检测，电机有供电，电机机臂有些有信号有些没有，排查分线板信号和飞控信号都有，后校准了油门电机正常工作，飞机正常工作。</p><p><span class="label label-danger">Q</span> 飞机飞行掉高悬停不稳？</p><p><span class="label label-success">A</span> 飞机是N3飞控，更换了新N3飞控，飞机还是掉高，最后更换了A2飞控飞机掉高相对较好，但飞机抖动，通过检查机架发现机臂有点松动，最后重新给机臂打胶固定，飞机正常工作。</p><p><span class="label label-danger">Q</span> 飞机起飞往一般倾斜，电台无法连接？</p><p><span class="label label-success">A</span> 通过校准imu和GPS飞机还是飞行倾斜，后更换imu飞机可以正常起飞，平板重装系统后装过软件和驱动后可以正常连接。</p><h2 id="2017年10月汇总"><a href="#2017年10月汇总" class="headerlink" title="2017年10月汇总"></a>2017年10月汇总</h2><p><span class="label label-danger">Q</span> 遥控器显示丢失？</p><p><span class="label label-success">A</span> 因为飞控版本和地面站版本不匹配导致地面站检测不到遥控器的信号，地面站和飞控的版本一定要匹配。</p><p><span class="label label-danger">Q</span> GPS显示罗盘零偏过大？</p><p><span class="label label-success">A</span> 硬件同事检测发现罗盘存在问题，现在已经更新成新版本的GPS，现在新版本的GPS可以解决这个问题， 。</p><p><span class="label label-danger">Q</span> 地面站显示屏HDMI模式下闪屏？</p><p><span class="label label-success">A</span> 显示屏控制板异常更换新控制板后解决。</p><p><span class="label label-danger">Q</span> 电脑无法开机，开机闪屏不断重复开机画面？</p><p><span class="label label-success">A</span> 开机出现此画面，等他耗完电量后，插上充电，多冲一段时间再开机，电脑就可以正常显示。</p><p><span class="label label-danger">Q</span> 维修时主板报警，滴滴响？</p><p><span class="label label-success">A</span> 将设备交由研发同事检测，主板无法检测到信号所以报警，旧快拆投弹器只有信号线，杜邦线上都是信号线，更换插线方式，主板不报警。</p><p><span class="label label-danger">Q</span> 飞机测试返航点，飞到返航点时还往一边飞，定位错误？</p><p><span class="label label-success">A</span> 咨询研发同事，问题在于飞机固件和地面站软件版本过低，所以定位不准，更新了固件及地面站软件后，飞机返航点定位正常。</p>]]></content>
      
      <categories>
          
          <category> QuestionsAndAnswers </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>开发组常见问题及解决办法</title>
      <link href="/2017/11/29/DevelopmentGroup_QAS/"/>
      <url>/2017/11/29/DevelopmentGroup_QAS/</url>
      <content type="html"><![CDATA[<blockquote><p>开发组问题及解决办法<br>更新日期：2017-11-29</p></blockquote><h2 id="2017年11月汇总"><a href="#2017年11月汇总" class="headerlink" title="2017年11月汇总"></a>2017年11月汇总</h2><span class="label label-danger">Q</span> 电调上电自检通过，但无法转动？机型<code>MC61550</code><br><br><span class="label label-success">A</span> 电调焊接时焊渣掉落导致连锡，去除后电调正常工作<br><br><span class="label label-danger">Q</span> 安全开关解锁后电调嘀嘀急促报警？<code>MC61550</code><br><br><span class="label label-success">A</span> 电调油门未校准导致，校准成功后解决<br><br><span class="label label-danger">Q</span> 客户端与服务端IP冲突图像无法导通<br><br><span class="label label-success">A</span> 联系紫川技术人员将红外的原IP指向改为二段网络2.11同时也将服务端改成相同网段，在使用内网时外网将会无法访问<br><br><span class="label label-danger">Q</span> 强光影响下探测距离缩短距离降低<br><br><span class="label label-success">A</span> 登入地面站将雷达灵敏度适当降低可减少外面强光影响，但是有效距离会下降，可将避障距离调大避免飞机速度过快刹车倾角过大<br><br><br>## 2017年10月汇总<br><br><br><span class="label label-danger">Q</span> FOC电调V1版和V2版混用<br><br><span class="label label-success">A</span> <p>“FOC电调V1版为可调油门行程，V2版为不可调油门行程，两者不能混用，区别方式如下：</p><ol><li>电调打标不同，V2版电调有””V2””字样，如115KV电调标签，V1版为“KV115-28inch”，V2版为“KV115-28inch-V2”；</li><li>油门行程校准，V1版进入油门校准方式后，按下解锁开关，“嘀嘀”响两声结束，而V2版电调则会一直“嘀嘀嘀”持续常响；”</li></ol><span class="label label-danger">Q</span> FOC电调V1版油门校准失败<br><br><span class="label label-success">A</span> “FOC电调校准步骤：<br>1. 6个机臂接在飞机上，动力电池，将遥控器油门拉到最高，然后按下电源开关，此时飞机LED应显示红色常亮；然后关闭电源开关；<br>2. 保持遥控器油门最高不变，重新按下电源开关，此时飞机LED应显示红色常亮，蜂鸣器响，LED五颜六色登出现；<br>3. 在电源开关不断开的情况下，给USB调参口5V供电（充电宝或电脑USB口供电），然后关闭飞机电源开关；<br>4. 这一步最关键，在按下电源开关后 立刻按下解锁开关，要尽量快，否则会失败，要重新从步骤1开始；成功后电调会嘀嘀响两声；将遥控器油门拉到最低，会嘀的响一声，油门校准成功；<br>5. 重新上电后即可正常操作”<br><br><span class="label label-danger">Q</span> FOC电调电机停转或转动异常<br><br><span class="label label-success">A</span> <ol><li>拆除桨叶，机臂上电，电调是否发出提示音。若有提示音，通常电调都可正常工作，进入第二步；</li><li>检查电机是否破损，电机是否堵转，电机三相线两两测量是否导通，如检测无异常，可以排除电机故障，推断为电调原因；</li><li>若电机检测无异常电调上电无响声，通常为元器件破损或电源，需要更换电调，将不良品寄回原厂修理”</li></ol><p><span class="label label-danger">Q</span> “紫川红外改网口引脚接线无法和网口线路导通<br>“</p><p><span class="label label-success">A</span> 只能用网口水晶头连接，无法用焊接引脚方法导通</p><p><span class="label label-danger">Q</span> B80悬停机前机臂脚架抖动比较大</p><p><span class="label label-success">A</span> 尝试改变动力系统KV值和桨叶尺寸加强前机臂结构减少抖动频率，重新对脚架位置进行定义</p><p><span class="label label-danger">Q</span> 图传钻孔治具无法固定，每次打出的孔位互相之间有偏差</p><p><span class="label label-success">A</span> 制作新的图传钻孔治具，在侧翼加两个孔套在脚架螺丝上以固定。</p><p><span class="label label-danger">Q</span> 飞机在厂内测试时，脚架着地易划伤</p><p><span class="label label-success">A</span> 购买海绵套套在脚架横管上，防止划伤。</p><p><span class="label label-danger">Q</span> 出货配件中各种螺丝放在一起，杂乱，不易挑选</p><p><span class="label label-success">A</span> 规范化螺丝种类、数量，用小包装袋装好，并贴上标签。</p><p><span class="label label-danger">Q</span> 电机滴滴报警，无动力输出</p><p><span class="label label-success">A</span> 分线板电调插槽松动，电调信号线接触不良，更换分线板或者重新插牢。</p><p><span class="label label-danger">Q</span> 飞机飞行时突然不受控制，飞手无法取得控制权</p><p><span class="label label-success">A</span> 接收机SBUS线松动，造成接收信号断断续续，飞机失控</p><p><span class="label label-danger">Q</span> 飞机悬停时高度不稳，明显忽上忽下</p><p><span class="label label-success">A</span> 气压计故障，更换气压计或者更换飞控</p><p><span class="label label-danger">Q</span> 高度显示不正常，飞机悬停，地面站显示与实际高度差别大，但飞机飞行稳定</p><p><span class="label label-success">A</span> 地面站软件BUG，需更新解决</p><p><span class="label label-danger">Q</span> GPS信号时有时无，GPS模式下，GPS失控</p><p><span class="label label-success">A</span> 拆开gps外壳发现里面有个元器件脱落，坏件还没带回去，（跟换新的GPS后,工作正常）</p><p><span class="label label-danger">Q</span> 倾斜影像挂在飞机上通电后不做如何操作，LED显示屏拍照数会自动上升，也会自拍。</p><p><span class="label label-success">A</span> 将控制线更换成屏蔽线，屏蔽线地线要与快拆PCBA板和倾斜影像PCBA电源主控板接地。</p><p><span class="label label-danger">Q</span> 倾斜影像usb口拖落或接口无反应不能传输数据</p><p><span class="label label-success">A</span> 可先将手机用Wi-Fi连接相机，然后将照片导入到手机里，再从手机导出到电脑里。</p>]]></content>
      
      <categories>
          
          <category> QuestionsAndAnswers </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>技术支持常见问题及解决办法</title>
      <link href="/2017/11/29/TechnologySupport_QAS/"/>
      <url>/2017/11/29/TechnologySupport_QAS/</url>
      <content type="html"><![CDATA[<blockquote><p>售后常见问题及解决办法<br>更新日期：2017-11-29</p></blockquote><h2 id="2017年11月汇总"><a href="#2017年11月汇总" class="headerlink" title="2017年11月汇总"></a>2017年11月汇总</h2><span class="label label-danger">Q</span> 飞机飞控解锁后，某个机臂发出“滴滴”报警声，且更换机臂接口后该机臂仍然报警，使用测试台测试时，机臂正常，拍查线路连接也正常？<br><br><span class="label label-success">A</span> <p>重新校准所有机臂油门行程。</p><span class="label label-danger">Q</span> 地面站电池安装后无法为平板电脑供电，使用地面站充电器也不能供电？<br><br><span class="label label-success">A</span> <p>拆开平板电脑固定板，重新插拔平板电脑电源线。</p><span class="label label-danger">Q</span> 飞机脚架横管可以插入脚架内，但不能卡住？<br><br><span class="label label-success">A</span> <p>重新固定脚架套管内部弹簧。</p><span class="label label-danger">Q</span> A2飞控地面站连接好手机热点后地图仍未能下载或无法连接飞机？<br><br><span class="label label-success">A</span> 如检查完电台信号灯是正常的，更换WIFI源可解决。<br><br><span class="label label-danger">Q</span> 切换图像颜色时图像突然变模糊？<br><br><span class="label label-success">A</span> 颜色切换过快导致，停止颜色切换，稍后图像会自动恢复。<br><br><span class="label label-danger">Q</span> 自带天地飞接受机的老款挂载经常出现云台不可控？<br><br><span class="label label-success">A</span> 挂载端的接收机受干扰，信号丢失导致。移动接收机天线，找到一个不受干扰的位置固定死信号线。<br><br><br><span class="label label-danger">Q</span> 在确定喊话器没有异常的情况下，喊话声音依旧卡顿。<br><br><br><span class="label label-success">A</span> 先检查电台天线是否连接牢固，如连接牢固检查电台天线功率，如电台天线功率正常则须更换电台。<br><br><br><span class="label label-danger">Q</span> 飞机挂载在摇杆和平板里都无法控制<br><br><br><span class="label label-success">A</span> 如挂载有锁定，先尝试把挂载锁定通道打开；擦拭挂载接触端；检查地面站版本与飞控版本是否匹配；检查快拆板是否最新。<br><br><br><span class="label label-danger">Q</span> 电台经常会断掉<br><br><br><span class="label label-success">A</span> 用产线处的功率机进行功率测试，每一条线路都要检测一次<br><br><br><span class="label label-danger">Q</span> 固件没有升级，提示设备已锁定<br><br><br><span class="label label-success">A</span> 把app调到飞行器信息，点固件升级栏，然后解除锁定<br><br><br><span class="label label-danger">Q</span> 在地面站录制视频存储到u盘，u盘到电脑端查看的时候显示不出地面站的录制视频资料。<br><br><br><span class="label label-success">A</span> 在u盘文件夹选项里面，勾选、显示隐藏的文件、文件夹和驱动器。 隐藏受保护的操作系统。<br><br><br><span class="label label-danger">Q</span> 飞机开机机臂报警<br><br><br><span class="label label-success">A</span> 检查机臂的电调是否有问题，和校准油门行程<br><br><br><span class="label label-danger">Q</span> 喊话器使用出现问题，经过检查后发现是固件版本问题<br><br><br><span class="label label-success">A</span> 升级固件版本。<br><br><br><span class="label label-danger">Q</span> 飞机在地面上进行桨叶检测时发现点击按钮但是桨叶不转<br><br><br><span class="label label-success">A</span> 检查了机臂是不是没没装好，适当加大油门值，直到触发桨叶测试。<br><br><br><br><span class="label label-danger">Q</span> 倾斜摄影建模后发现模型出现分层现象，检查发现使用了不同的pos点导致，地面站的和飞机端。<br><br><br><span class="label label-success">A</span> 使用飞机端pos点，尽量不要混用；如果要混用必须手动把两种pos点的高度调到一致。<br><br><br><span class="label label-danger">Q</span> 机臂解锁后仍出现报警声<br><br><br><span class="label label-success">A</span> 经检查，电调信号线无法接收到信号，无法修复，更换一个全新电调。<br><br><br><span class="label label-danger">Q</span> 图传没有图像。<br><br><br><span class="label label-success">A</span> 将飞机图传与挂载直接用HDMI线连接，地面在画面有图像。说明飞机端快拆与图传之间图像传输有问题。将飞机快拆端与图传端连接的HDMI线更换，问题解决。<br><br><br>## 2017年10月汇总<br><br><span class="label label-danger">Q</span> 上机测试，A2飞控3号机臂和6号机臂动力匹配不平衡，通过飞机悬停IOSD数据分析<br><br><span class="label label-success">A</span> 重新校准油门行程故障排除<br><br><span class="label label-danger">Q</span> 武高所飞机快拆图像无信号<br><br><span class="label label-success">A</span> 交换测试分别更换挂载，图传故障依旧，更换飞机快拆端HDMI线故障排除<br><br><span class="label label-danger">Q</span> 检测图传无图像<br><br><span class="label label-success">A</span> 交换测试分别更换挂载，图传，HDMI线故障依旧，更换飞机端快拆故障排除<br><br><span class="label label-danger">Q</span> 飞机图像正常，云台可控，其他挂载功能正常，喊话器无声音<br><br><span class="label label-success">A</span> 更换喊话麦克故障依旧，图传正常，说明控制上的问题，因是电台喊话控制，故通过排查为电台线序错误，正确线序为（白，黄，绿，红，黑）<br><br><span class="label label-danger">Q</span> 充电几分钟自动停止<br><br><span class="label label-success">A</span> 按select键三次，屏幕上端会显示时间格式（如00:02，定时两分钟停止充电），将时间调为00:00为无定时，如果设置为00；30则定时30分钟<br><br><span class="label label-danger">Q</span> 抛投有图像但是无法控制<br><br><span class="label label-success">A</span> 飞机端为新快拆，挂载为老快拆，导致不兼容，更换新快拆故障排除。<br><br><span class="label label-danger">Q</span> 飞机挂载红外时无图像，然后将飞机挂载20倍变焦，地面站图像正常，然后挂载抛投挂载，AV画质正常。所以判断是红外挂载问题。<br><br><span class="label label-success">A</span> 将挂载的电路板拆下来，发现里面高清线松掉，重新插拔后红外图像正常，然后将高清线插拔处打胶进行固定。<br><br><span class="label label-danger">Q</span> 飞机接挂载后地面站没有图像，但是用别的飞机同样的图传挂同样的挂载地面站有图像，然后用扫频仪测试图传频率，发现图传频率正常，所以推测可能是快拆板或者高清线有问题<br><br><span class="label label-success">A</span> 从仓库领新的高清线接在快拆端和图传相连，然后将飞机通电，发现地面站图像正常，说明快拆和高清线都正常，然后将快拆和新的高清线装好，图像问题解决<br><br><span class="label label-danger">Q</span> 飞机安全开关打开后，发现还有一个电调会报警有滴滴滴的声音，然后用地面站进行浆叶测试，发现报警的浆叶不会转动。然后将电池取出，将报警机臂的信号线重找插拔下问题解决，再重新插拔下发现问题又出现了<br><br><span class="label label-success">A</span> 先更换了信号线，问题还是未解决，然后怀疑是分线板有问题，万用表测试发现接触不良，更换电路板后问题解决。<br><br><span class="label label-danger">Q</span> 挂载箱子在温差变化较大的环境中，挂载很容易有小水珠液化，会影响挂载的使用<br><br><span class="label label-success">A</span> 建议在挂载箱倒膜内加一些干燥剂，保持挂载箱内干燥，防止水蒸气液化。<br><br><span class="label label-danger">Q</span> 喊话器声音太小<br><br><span class="label label-success">A</span> 和田军分区总共4台1550配备其中有两台设备的喊话器声音特别小，经排查是对讲机问题，因交货地点快递无法到达，配件无法寄到，问题暂未解决。<br><br><span class="label label-danger">Q</span> 电调不通电<br><br><span class="label label-success">A</span> 因6号机臂不转，经排查发现是电调坏掉，后更换电调问题解决。<br><br><span class="label label-danger">Q</span> 30倍变焦云台一直向右飘动<br><br><span class="label label-success">A</span> 30倍变焦通电后镜头一直向右漂移幅度较大，航向锁定模式下则不会，因业务要求以交货为主，客户也未发现，问题暂未解决。<br><br><span class="label label-danger">Q</span> 地面站u盘无法录屏<br><br><span class="label label-success">A</span> 地面站U盘格式不对无法录屏，更换格式后问题已解决。<br><br><span class="label label-danger">Q</span> 地面站错误报警<br><br><span class="label label-success">A</span> 飞机通电后地面站一直显示氢燃料余料不足报警，不是氢燃料飞机，更新最新版本地面站软件和飞控固件后问题已解决。<br><br><span class="label label-danger">Q</span> 1550在飞航线模式的时候电台突然接收不到信号<br><br><span class="label label-success">A</span> 电台重新对码<br><br><span class="label label-danger">Q</span> 地面站无法识别U盘，并无法使用录屏功能。<br><br><span class="label label-success">A</span> 将地面站U盘改为NTFS格式后，可以正常使用。<br><br><span class="label label-danger">Q</span> 地面站显示电压一直在变化<br><br><span class="label label-success">A</span> <ol><li>飞机动力电池与飞机没链接紧固；</li><li>电源半有故障。</li></ol><span class="label label-danger">Q</span> 倾斜摄影通电后自动拍照（一直）<br><br><span class="label label-success">A</span> <p>图传信号干扰到：</p><ol><li>倾斜摄影信号线更换为屏蔽线；</li><li>关闭图传（天线绑在脚架的飞机）</li></ol><p><span class="label label-danger">Q</span> 飞机挂载抽搐，无法自稳</p><p><span class="label label-success">A</span> 更换分电板</p>]]></content>
      
      <categories>
          
          <category> QuestionsAndAnswers </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>常用下载汇总</title>
      <link href="/2017/11/25/DownloadPage/"/>
      <url>/2017/11/25/DownloadPage/</url>
      <content type="html"><![CDATA[<h2 id="常用下载汇总"><a href="#常用下载汇总" class="headerlink" title="常用下载汇总"></a>常用下载汇总</h2><h3 id="数据管理软件"><a href="#数据管理软件" class="headerlink" title="数据管理软件"></a>数据管理软件</h3><ul><li><p><a href="http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf" target="_blank" rel="noopener">下载 数据管理软件说明书</a></p></li><li><p><a href="http://47.104.31.20/mmcdms/MMC_DMSystem_V1.2.29.180123.exe" target="_blank" rel="noopener">下载 数据管理软件</a></p></li></ul><h3 id="产品新命名规范"><a href="#产品新命名规范" class="headerlink" title="产品新命名规范"></a>产品新命名规范</h3><ul><li><p><a href="http://47.104.31.20/mmcdms/MMCProductNamingRulesV1.3.pdf" target="_blank" rel="noopener">下载 MMC产品新命名规范V1.3</a></p></li><li><p><a href="http://47.104.31.20/mmcdms/MMC产品命名汇总V1.3.xls" target="_blank" rel="noopener">下载 MMC产品命名汇总V1.3</a></p></li></ul><h3 id="生产物料编码表"><a href="#生产物料编码表" class="headerlink" title="生产物料编码表"></a>生产物料编码表</h3><ul><li><a href="http://47.104.31.20/mmcdms/生产物料编码记录表-应用.xlsx" target="_blank" rel="noopener">下载 生产物料编码表</a></li></ul>]]></content>
      
      <categories>
          
          <category> DownLoad </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>MMC产品新命名规范</title>
      <link href="/2017/11/25/MMCProductNamingRules/"/>
      <url>/2017/11/25/MMCProductNamingRules/</url>
      <content type="html"><![CDATA[<blockquote><p>MMC产品新命名规范<br>版本号：V1.1<br>更新日期：2017-11-25</p></blockquote><a id="more"></a><h2 id="全文-（下载MMC产品命名汇总V1-3）"><a href="#全文-（下载MMC产品命名汇总V1-3）" class="headerlink" title="全文 （下载MMC产品命名汇总V1.3）"></a>全文 （<a href="http://47.104.31.20/mmcdms/MMC产品命名汇总V1.4.xls" target="_blank" rel="noopener">下载MMC产品命名汇总V1.3</a>）</h2><p><a href="http://ow365.cn/?i=14889&furl=http://47.104.31.20/mmcdms/MMC产品命名汇总V1.4.xls" target="_blank">预览命名汇总文件</a></p><h2 id="全文（下载MMC产品新命名规范V1-1）"><a href="#全文（下载MMC产品新命名规范V1-1）" class="headerlink" title="全文（下载MMC产品新命名规范V1.1）"></a>全文（<a href="http://47.104.31.20/mmcdms/MMCProductNamingRulesV1.3.pdf" target="_blank" rel="noopener">下载MMC产品新命名规范V1.1</a>）</h2><p>正在加载…</p><object classid="clsid:CA8A9780-280D-11CF-A24D-444553540000" width="500" height="1000" border="0"><br><param name="_Version" value="65539"><br><param name="_ExtentX" value="20108"><br><param name="_ExtentY" value="10866"><br><param name="_StockProps" value="0"><br><param name="SRC" value="http://47.104.31.20/mmcdms/MMCProductNamingRulesV1.1.pdf"><br><object data="http://47.104.31.20/mmcdms/MMCProductNamingRulesV1.1.pdf" type="application/pdf" width="1000" height="1200"><br></object><br></object>  ]]></content>
      
      <categories>
          
          <category> Instructions </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>数据管理系统软件使用说明书</title>
      <link href="/2017/11/25/MMCDMSystemInstructions/"/>
      <url>/2017/11/25/MMCDMSystemInstructions/</url>
      <content type="html"><![CDATA[<blockquote><p>数据管理系统软件使用说明书<br>版本号：V1.1<br>更新日期：2017-11-25</p></blockquote><a id="more"></a><h2 id="全文（下载）"><a href="#全文（下载）" class="headerlink" title="全文（下载）"></a>全文（<a href="http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf" target="_blank" rel="noopener">下载</a>）</h2><p>正在加载…</p><object classid="clsid:CA8A9780-280D-11CF-A24D-444553540000" width="500" height="1000" border="0"><br><param name="_Version" value="65539"><br><param name="_ExtentX" value="20108"><br><param name="_ExtentY" value="10866"><br><param name="_StockProps" value="0"><br><param name="SRC" value="http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf"><br><object data="http://47.104.31.20/mmcdms/MMCDMSystemInstructionsV1.1.pdf" type="application/pdf" width="1000" height="1200"><br></object><br></object>  ]]></content>
      
      <categories>
          
          <category> Instructions </category>
          
      </categories>
      
      
    </entry>
    
  
  
</search>
